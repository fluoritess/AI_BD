{"version":3,"sources":["webpack:///./src/views/Administration/roleManager.vue?4b87","webpack:///src/views/Administration/roleManager.vue","webpack:///./src/views/Administration/roleManager.vue?35e7","webpack:///./src/views/Administration/roleManager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","utils","hasLoginComponents","attrs","size","type","icon","on","click","addinit","_v","_e","proxy","url","tableinit","datatitle","parems","opreate","visible","formshow","width","update:visible","$event","close","formreset","$refs","nativeOn","add","ref","model","roleaddinfor","label-width","label-position","rules","label","prop","placeholder","value","callback","$$v","$set","expression","funassignshow","multipleinit","title","staticRenderFns","roleManagervue_type_script_lang_js_","components","tablePage","__webpack_require__","e","then","bind","multipleSelectionForm","data","vm","has","addorup","minwidth","btn","text","btnfun","funAssignment","show","update","delete","rolename","roledetail","trigger","required","message","validator","$validateApi","cnLength","len","updateurl","methods","row","id","validate","valreq","$api","opreateRequset","formatter","success","datas","deleteRequset","Administration_roleManagervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0ba584.aa97f75d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"card_back\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [(_vm.utils.hasLoginComponents('sys:role:add'))?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addinit}},[_vm._v(\"新增\")]):_vm._e()]},proxy:true}])},[_c('table-page',{attrs:{\"url\":_vm.tableinit.url,\"datatitle\":_vm.tableinit.datatitle,\"parems\":_vm.tableinit.parems,\"opreate\":_vm.tableinit.opreate}}),(_vm.formshow)?_c('el-dialog',{attrs:{\"visible\":_vm.formshow,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.formshow=$event},\"close\":function($event){return _vm.utils.formreset(_vm.$refs['roleForm'])}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.add('roleForm')}}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.utils.formreset(_vm.$refs['roleForm'])}}},[_vm._v(\"重置\")])]},proxy:true}],null,false,3458112854)},[_c('el-form',{ref:\"roleForm\",attrs:{\"model\":_vm.roleaddinfor,\"label-width\":\"80px\",\"label-position\":\"right\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"角色名\",\"prop\":\"rolename\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入需要添加的角色名称\"},model:{value:(_vm.roleaddinfor.rolename),callback:function ($$v) {_vm.$set(_vm.roleaddinfor, \"rolename\", $$v)},expression:\"roleaddinfor.rolename\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roledetail\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入需要添加的角色描述\"},model:{value:(_vm.roleaddinfor.roledetail),callback:function ($$v) {_vm.$set(_vm.roleaddinfor, \"roledetail\", $$v)},expression:\"roleaddinfor.roledetail\"}})],1)],1)],1):_vm._e(),_c('multiple-selection-form',{attrs:{\"visible\":_vm.funassignshow,\"parems\":_vm.multipleinit.parems,\"title\":_vm.multipleinit.title,\"url\":_vm.multipleinit.url,\"width\":_vm.multipleinit.width,\"datatitle\":_vm.multipleinit.datatitle},on:{\"update:visible\":function($event){_vm.funassignshow=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<el-card class=\"card_back\">\r\n    <template #header>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"addinit\" v-if=\"utils.hasLoginComponents('sys:role:add')\" icon=\"el-icon-circle-plus-outline\">新增</el-button>\r\n    </template>\r\n    <table-page :url=\"tableinit.url\" :datatitle=\"tableinit.datatitle\" :parems=\"tableinit.parems\" :opreate=\"tableinit.opreate\"></table-page>\r\n    <el-dialog :visible.sync=\"formshow\" v-if=\"formshow\" width=\"600px\" @close=\"utils.formreset($refs['roleForm'])\">\r\n        <el-form ref=\"roleForm\" :model=\"roleaddinfor\" label-width=\"80px\" label-position=\"right\" :rules=\"rules\">\r\n            <el-form-item label=\"角色名\" prop=\"rolename\">\r\n                <el-input v-model=\"roleaddinfor.rolename\" placeholder=\"请输入需要添加的角色名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色描述\" prop=\"roledetail\">\r\n                <el-input type=\"textarea\" v-model=\"roleaddinfor.roledetail\" placeholder=\"请输入需要添加的角色描述\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <el-button type=\"primary\" @click.native=\"add('roleForm')\">提交</el-button>\r\n            <el-button type=\"warning\" @click.native=\"utils.formreset($refs['roleForm'])\">重置</el-button>\r\n        </template>\r\n    </el-dialog>\r\n    <multiple-selection-form :visible.sync=\"funassignshow\" :parems=\"multipleinit.parems\" :title=\"multipleinit.title\" :url=\"multipleinit.url\" :width=\"multipleinit.width\" :datatitle=\"multipleinit.datatitle\"></multiple-selection-form>\r\n</el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    components: {\r\n        tablePage: () => import('@/components/tablePage.vue'),\r\n        multipleSelectionForm: () => import('@/components/multipleSelectionForm.vue'),\r\n    },\r\n    data() {\r\n        let vm = this;\r\n        let has = vm.utils.hasLoginComponents;\r\n        return {\r\n            addorup: 1, //1表示新增，0表示修改 必需属性\r\n            formshow: false, //添加和修改信息的表单显示\r\n            funassignshow: false, //功能分配显示状态\r\n            tableinit: {\r\n                url: \"/selectRolePaging.action\",\r\n                datatitle: [{\r\n                    prop: \"id\",\r\n                    width: '200',\r\n                    label: '角色编号'\r\n                }, {\r\n                    prop: \"rolename\",\r\n                    width: '200',\r\n                    label: '角色名称'\r\n                }, {\r\n                    prop: \"roledetail\",\r\n                    width: '400',\r\n                    label: '角色描述'\r\n                }],\r\n                opreate: {\r\n                    label: \"操作\",\r\n                    minwidth: '300',\r\n                    btn: [{\r\n                        type: \"info\",\r\n                        size: 'mini',\r\n                        text: \"功能分配\",\r\n                        icon: \"el-icon-tickets\",\r\n                        btnfun: vm.funAssignment,\r\n                        show: has('sys:role:distribute')\r\n                    }, {\r\n                        type: \"warning\",\r\n                        size: 'mini',\r\n                        text: \"修改\",\r\n                        icon: \"el-icon-edit\",\r\n                        btnfun: vm.update,\r\n                        show: has('sys:role:modify')\r\n                    }, {\r\n                        type: \"danger\",\r\n                        size: 'mini',\r\n                        icon: \"el-icon-delete\",\r\n                        text: \"删除\",\r\n                        btnfun: vm.delete,\r\n                        show: has('sys:role:delete')\r\n                    }]\r\n                }\r\n            },\r\n            roleaddinfor: {\r\n                rolename: \"\",\r\n                roledetail: \"\"\r\n            },\r\n            rules: {\r\n                rolename: [{\r\n                    trigger: 'blur',\r\n                    required: true,\r\n                    message: '角色名不能为空'\r\n                }, {\r\n                    trigger: 'blur',\r\n                    validator: vm.$validateApi.cnLength,\r\n                    title: '角色',\r\n                    len: 20\r\n                }],\r\n                roledetail: [{\r\n                    trigger: 'blur',\r\n                    required: true,\r\n                    message: '角色描述不能为空'\r\n                }, {\r\n                    trigger: 'blur',\r\n                    validator: vm.$validateApi.cnLength,\r\n                    title: '角色描述',\r\n                    len: 50\r\n                }]\r\n            },\r\n            multipleinit: {\r\n                parems: {},\r\n                title: \"角色功能分配\",\r\n                url: \"/selecDistributionFunction.action\",\r\n                updateurl: \"/updataDistributionFunction.action\",\r\n                datatitle: [{\r\n                    prop: \"id\",\r\n                    minwidth: '15%',\r\n                    label: '功能编号'\r\n                }, {\r\n                    prop: \"name\",\r\n                    minwidth: '15%',\r\n                    label: '功能名称'\r\n                }, {\r\n                    prop: \"type\",\r\n                    minwidth: '30%',\r\n                    label: '功能类型'\r\n                }, {\r\n                    prop: \"detail\",\r\n                    minwidth: '30%',\r\n                    label: '功能描述'\r\n                }],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        funAssignment(row) {\r\n            this.funassignshow = true;\r\n            this.multipleinit.parems = {\r\n                id: row.id\r\n            };\r\n        },\r\n        addinit() {\r\n            let vm = this;\r\n            vm.addorup = 1;\r\n            vm.roleaddinfor = {};\r\n            vm.formshow = true;\r\n        },\r\n        add(ref) {\r\n            let vm = this;\r\n            let addorup = vm.addorup;\r\n            vm.$refs[ref].validate((valreq) => {\r\n                if (valreq) {\r\n                    vm.$api.opreateRequset(addorup ? '/addRole.action' : '/updateRole.action', vm.utils.data.formatter(vm.roleaddinfor), addorup ? '添加' : '修改').then(success => {\r\n                        if (success) {\r\n                            vm.formshow = false;\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        update(row) {\r\n            let vm = this;\r\n            vm.addorup = 0;\r\n            vm.roleaddinfor = row;\r\n            vm.formshow = true;\r\n        },\r\n        delete(row) {\r\n            let vm = this;\r\n            let datas = {\r\n                id: row.id,\r\n            };\r\n            vm.$api.deleteRequset('/deleteRoleData.action', vm.utils.data.formatter(datas));\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roleManager.vue?vue&type=template&id=97ea1ad8&\"\nimport script from \"./roleManager.vue?vue&type=script&lang=js&\"\nexport * from \"./roleManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}