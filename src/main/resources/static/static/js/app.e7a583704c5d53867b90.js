webpackJsonp([10],{"7utO":function(e,t){},A66B:function(e,t,n){e.exports=function(e){return function(){return n("Opzk")("./"+e+".vue")}}},Akch:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fZjL"),i=n.n(r),a=n("7+uW"),o=(n("Akch"),n("VaBq"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]}),u=n("VU/8")({},o,!1,null,null,null).exports,s=n("/ocq"),c=n("A66B");a.a.use(s.a);var l=[{path:"/",name:"Login",component:c("Login"),meta:{title:"登录"}},{path:"/rigster",name:"rigster",component:c("rigster"),meta:{title:"注册"}},{path:"/main",name:"main",component:c("main"),meta:{requireAuth:!0},children:[{path:"/main/gongnengguanli",name:"gongnengguanli",component:c("Administration/gongnengguanli"),meta:{title:"功能",requireAuth:!0}},{path:"/main/jueseguanli",name:"jueseguanli",component:c("Administration/jueseguanli"),meta:{title:"角色",requireAuth:!0}},{path:"/main/yonghuguanli",name:"yonghuguanli",component:c("Administration/yonghuguanli"),meta:{title:"用户",requireAuth:!0}}]},{path:"/userindex",name:"userindex",component:c("user/users"),meta:{requireAuth:!0}}],g=new s.a({routes:l}),m={isEmptyObject:function(e){for(var t in e)return!1;return!0}},f=n("NYxO"),p=(n("Ya8g"),n("mvHQ")),d=n.n(p),h={user:{},userPage:[],islogin:!1,userPerms:[]},E={IS_LOGIN:function(e){e.commit;m.isEmptyObject(h.user)&&(h.user=JSON.parse(sessionStorage.getItem("user_info")),h.islogin=sessionStorage.getItem("isLogin"),h.userPage=JSON.parse(sessionStorage.getItem("user_page")),h.userPerms=JSON.parse(sessionStorage.getItem("user_perms")))}},v={state:h,getters:{GETUSERPAGE:function(e){return e.userPage},GETUSERPERMS:function(e){return e.userPerms}},actions:E,mutations:{UPDATE_USER:function(e,t){e.user=t,sessionStorage.setItem("user_info",d()(e.user))},SET_IS_LOGIN:function(e,t){e.islogin=t,sessionStorage.setItem("isLogin",e.islogin)},UPDATE_USERPAGE:function(e,t){e.userPage=t,sessionStorage.setItem("user_page",d()(e.userPage))},REMOVE_USER:function(){sessionStorage.clear()},UPDATE_USERPERMS:function(e,t){e.userPerms=t,sessionStorage.setItem("user_perms",d()(e.userPerms))}}},S={state:{stateid:"",statetitle:""},mutations:{UPDATESTATEID:function(e,t){e.stateid=t},UPDATESTATEIDANDTITLE:function(e,t){e.stateid=t.id,e.statetitle=t.title}},getters:{GETUSERSTATE:function(e){return e}}};a.a.use(f.a);var y=new f.a.Store({modules:{user:v,state:S}});g.beforeEach(function(e,t,n){if(y.commit("UPDATESTATEIDANDTITLE",{id:e.name,title:e.meta.title}),e.meta.requireAuth)if(y.state.islogin||y.dispatch("IS_LOGIN"),!m.isEmptyObject(y.state.user.user)&&y.state.user.islogin){var r=y.state.user.userPage,i=0;if("/main"==e.fullPath)n();else{for(var o=0;o<r.length;o++)for(var u=0;u<r[o].list.length;u++)"/main/"+r[o].list[u].pageInf.url==e.fullPath&&(i+=1);"/userindex"==e.fullPath&&(i=1),i>0?n():a.a.prototype.$layer.alert("前往网页不存在或角色权限不足",{icon:1,time:2e3,end:function(){n({path:"/main"})}})}}else a.a.prototype.$layer.alert("帐号未登录",{icon:1,time:2e3,end:function(){n({path:"/"})}}),y.commit("SET_IS_LOGIN",!1),y.commit("REMOVE_USER");else n()});var A=n("mtWM"),T=n.n(A),P={datafilter:function(e,t){function n(e){return e<10?"0"+e:e}var r=new Date(Number(e)),i=n(r.getFullYear()),a=n(r.getMonth()+1),o=n(r.getDate());if("yyyyMMdd"==t)return i+"年"+a+"月"+o+"日"}},_=n("sUu7"),$=n("+8+3"),O=n.n($),I=n("TXmL");a.a.use(I.a);var N=new I.a({locale:"zh_CN"});a.a.use(_.b,{errorBagName:"errors",fieldsBagName:"fields",delay:100,locale:"zh_CN",strict:!0,enableAutoClasses:!0,events:"focus|input|blur|submit",inject:!0},{i18n:N,i18nRootKey:"validation",dictionary:{zh_CN:O.a}});_.b.Validator.localize({zh_CN:{messages:{numeric:function(e){return e+"应为数字"},required:function(e){return e+"不能为空"},max:function(e,t){return e+"不能超过"+t[0]+"个字符"},min:function(e,t){return e+"不能少于"+t[0]+"个字符"},length:function(e,t){return e+"应该为"+t[0]+"个字符"},regex:function(e){return e+"格式不正确"},alpha_num:function(e,t){return e+"只能为数字或英文"},email:function(e){return e+"格式不正确"}}}}),_.a.extend("tel",{getMessage:function(e){return" 请输入正确格式的手机号"},validate:function(e,t){return 11==e.length&&/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(e)}}),_.a.extend("password",{getMessage:function(e){return e+"应为字母、数字和符号两种及以上的组合，6-16个字符"},validate:function(e,t){return/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?![,\!\.#%'\+\*\-:;^_`]+$)[,\!\.#%'\+\*\-:;^_`0-9A-Za-z]{6,16}$/.test(e)}}),_.a.extend("cnlength",{getMessage:function(e,t){return e+"长度不能超过"+t[0]+"位"},validate:function(e,t){return("number"==typeof e?e.length:e.replace(/[\u0391-\uFFE5]/g,"aa").length)<=t[0]}}),_.a.extend("idnumber",{getMessage:function(e,t){return e+"格式不正确"},validate:function(e,t){return/(^\d{110}$)|(^\d{112}$)|(^\d{17}(\d|X|x)$)/.test(e)}});var b=n("ppUw"),x=n.n(b),U={loginTableData:function(){},opreateHttp:function(e,t,n,r,i){e.$validator.validateAll().then(function(a){a&&e.$axios.post(e.HOST+t,n).then(function(t){var a=t.data;"0"==a.code?(e.$layer.msg(r+"成功",{icon:1,end:function(){i(),e.$layer.close(this.id)}}),n={}):e.$layer.msg(a.msg,{icon:2})}).catch(function(t){e.$layer.msg("网络错误，请检查网络是否畅通",{icon:5})})})}},R=n("pFYg"),j=n.n(R);var w={http:U,opreate:{emitCall:function(e,t,n){n.$emit(e,t)},ObjectCopy:function e(t){var n;t instanceof Object&&(n={});t instanceof Array&&(n=[]);for(var r in t)"object"==j()(t[r])?n[r]=e(t[r]):n[r]=t[r];return n},hasLoginComponents:function(e,t){return e.$store.getters.GETUSERPERMS.indexOf(t)>-1},TESTcheck:function(e,t){var n=e.checkData.length;return n>1?(e.$layer.msg("一次只能"+t+"一条数据",{icon:3}),!1):!(n<=0)||(e.$layer.alert("请选择需要"+t+"的数据",{icon:0}),!1)}}},D=n("7t+N"),L=n.n(D),M=n("osWI"),z=n.n(M);window.jQuery=L.a,window.$=L.a,a.a.use(x.a),T.a.defaults.withCredentials=!0,a.a.config.productionTip=!1,a.a.prototype.$api=w,a.a.prototype.$layer=z.a,a.a.prototype.HOST="",a.a.prototype.$axios=T.a,a.a.prototype.$store=y,i()(P).forEach(function(e){a.a.filter(e,P[e])});new a.a({el:"#app",router:g,store:y,components:{App:u},template:"<App/>"})},Opzk:function(e,t,n){var r={"./Administration/gongnengguanli.vue":["cn+G",0,4],"./Administration/jueseguanli.vue":["QEn1",0,6],"./Administration/yonghuguanli.vue":["Y/nL",0,5],"./Login.vue":["lmfZ",3],"./main.vue":["sRz/",1],"./rigster.vue":["ST3v",8],"./user/userindex.vue":["HrnT",7],"./user/users.vue":["H49N",2]};function i(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}i.keys=function(){return Object.keys(r)},i.id="Opzk",e.exports=i},VaBq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e7a583704c5d53867b90.js.map