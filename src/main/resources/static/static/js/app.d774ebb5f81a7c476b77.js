webpackJsonp([1],{"+b34":function(t,a,e){"use strict";var s=e("mvHQ"),r=e.n(s),o={data:function(){return{indexData:!0,userAdd:{role:"",depart:"",idnumber:"",name:"",email:""},selectdata:{role:[],depart:[]},updateshow:{upDate:!1,upDatePass:!1,upDateRole:!1},userData:{},updateData:{}}},mounted:function(){this.initData()},methods:{submitForm:function(){var t=this,a=t.userAdd;t.$validator.validateAll().then(function(e){e&&(""!=a.role?t.$refs.myaddForm.submit():alert("请选择角色"))})},loginData:function(){this.updateData=this.copeElement(this.userData)},copeElement:function(t){var a={};for(var e in t)a[e]=t[e];return a},initData:function(){var t=this;t.$axios.post(t.HOST+"getUserDate.action").then(function(a){var e=a.data;0==e.indexData?t.indexData=!1:1==e.indexData&&(t.userData=a.data,t.indexData=!0),t.loginRoleSelectData(t)}).catch(function(t){console.log(t)})},loginRoleSelectData:function(){var t=this;t.$axios.post(t.HOST+"allRole.action").then(function(a){t.selectdata.role=a.data}).catch(function(t){})},UpdateData:function(t){var a=this,e={title:t,data:a.updateData};function s(){a.$axios.post(a.HOST+"UserDate.action",r()(e)).then(function(t){for(var e in a.loginData(),a.updateshow)a.updateshow[e]=!1;console.log(a.updateshow),alert("修改成功"),a.indexData()},function(t){console.log(t),alert("修改失败")})}a.$validator.validateAll().then(function(e){if(e)switch(t){case"updateRole":case"updateDate":s();break;case"updatePwd":a.updateData.newpass==a.updateData.newPass&&s()}})}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container",attrs:{id:"user_data"}},[t.indexData?t._e():e("div",{staticClass:"panel panel-info"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("form",{ref:"myaddForm",staticClass:"form form-horizontal",attrs:{name:"myaddForm",action:t.HOST+"addData.action",method:"post"}},[e("div",{staticClass:"form-group"}),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[t._v("邮箱")]),t._v(" "),e("div",{staticClass:"col-sm-10",class:{"has-success":!t.errors.has("email")&&""!=t.userAdd.email,"has-error":t.errors.has("email")}},[e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userAdd.email,expression:"userAdd.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"text",name:"email","data-vv-as":"邮箱"},domProps:{value:t.userAdd.email},on:{input:function(a){a.target.composing||t.$set(t.userAdd,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-4 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}]},[t._v(t._s(t.errors.first("email")))])])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"col-sm-10",class:{"has-success":!t.errors.has("name")&&""!=t.userAdd.name,"has-error":t.errors.has("name")}},[e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userAdd.name,expression:"userAdd.name"},{name:"validate",rawName:"v-validate",value:"required|regex:^[一-龡0a-zA-Z]+$",expression:"'required|regex:^[\\u4e00-\\u9fa10a-zA-Z]+$'"}],staticClass:"form-control",attrs:{type:"text",name:"name","data-vv-as":"姓名"},domProps:{value:t.userAdd.name},on:{input:function(a){a.target.composing||t.$set(t.userAdd,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-4 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}]},[t._v(t._s(t.errors.first("name")))])])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[t._v("身份证号")]),t._v(" "),e("div",{staticClass:"col-sm-10",class:{"has-success":!t.errors.has("idnumber")&&""!=t.userAdd.idnumber,"has-error":t.errors.has("idnumber")}},[e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userAdd.idnumber,expression:"userAdd.idnumber"},{name:"validate",rawName:"v-validate",value:"required|idnumber",expression:"'required|idnumber'"}],staticClass:"form-control",attrs:{type:"text",name:"idnumber","data-vv-as":"身份证号"},domProps:{value:t.userAdd.idnumber},on:{input:function(a){a.target.composing||t.$set(t.userAdd,"idnumber",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-4 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("idnumber"),expression:"errors.has('idnumber')"}]},[t._v(t._s(t.errors.first("idnumber")))])])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2",attrs:{for:"roleselect"}},[t._v("角色选择审核")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"col-sm-6"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.userAdd.role,expression:"userAdd.role"}],staticClass:"form-control",attrs:{name:"role",id:"roleselect"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.userAdd,"role",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("请选择角色")]),t._v(" "),t._l(t.selectdata.role,function(a){return e("option",{key:a.id,domProps:{value:a.id,textContent:t._s(a.name)}})})],2)]),t._v(" "),e("div",{staticClass:"col-sm-4 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("role"),expression:"errors.has('role')"}]},[t._v(t._s(t.errors.first("role")))])])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-info col-sm-2 col-sm-offset-4",attrs:{type:"button"},on:{click:t.submitForm}},[t._v("提 交")])])])]),t._v(" "),t.indexData?e("div",{staticClass:"panel panel-info"},[t._m(2),t._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"col-sm-1 pull-right "},[e("button",{staticClass:" btn btn-info",attrs:{type:"button"},on:{click:function(a){t.updateshow.upDate=!t.updateshow.upDate,t.loginData()}}},[t._v("编辑资料")])]),t._v(" "),e("div",{staticClass:"col-sm-1 pull-right"},[e("button",{staticClass:"btn btn-info",attrs:{ype:"button"},on:{click:function(a){t.updateshow.upDatePass=!t.updateshow.upDatePass,t.loginData()}}},[t._v("修改密码")])]),t._v(" "),e("div",{staticClass:"col-sm-1 pull-right"},[e("button",{staticClass:"btn btn-info",attrs:{ype:"button"},on:{click:function(a){t.updateshow.upDateRole=!t.updateshow.upDateRole,t.loginData()}}},[t._v("角色审核")])])]),t._v(" "),e("div",{staticClass:"col-sm-12"},[e("ul",{staticClass:"nav center-block nav-list"},[e("li",[e("span",{staticClass:"col-sm-2"},[t._v("帐号:")]),e("span",{domProps:{textContent:t._s(t.userData.id)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("昵称:")]),e("span",{domProps:{textContent:t._s(t.userData.nic)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("姓名:")]),e("span",{domProps:{textContent:t._s(t.userData.name)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("电话:")]),e("span",{domProps:{textContent:t._s(t.userData.tel)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("邮箱:")]),e("span",{domProps:{textContent:t._s(t.userData.email)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("站区:")]),e("span",{domProps:{textContent:t._s(t.userData.depart)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("角色:")]),e("span",{domProps:{textContent:t._s(t.userData.role)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("身份证号:")]),e("span",{domProps:{textContent:t._s(t.userData.idnumber)}})]),t._v(" "),e("li",[e("span",{staticClass:"col-sm-2"},[t._v("注册时间:")]),e("span",[t._v(t._s(t._f("datafilter")(t.userData.regtime,"yyyyMMdd")))])])])])]),t._v(" "),t.updateshow.upDateRole?e("div",{staticClass:"back_box"},[e("div",{staticClass:"panel panel-info col-sm-6 col-sm-offset-3 "},[e("div",{staticClass:"panel-heading"},[e("h2",{staticClass:"panel-title"},[t._v("角色审核")]),t._v(" "),e("span",{staticClass:"close glyphicon glyphicon-remove",on:{click:function(a){t.updateshow.upDateRole=!t.updateshow.upDateRole}}})]),t._v(" "),e("form",{staticClass:"form form-horizontal panel-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label",attrs:{for:"updaterole"}},[t._v("选择角色")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateData.role,expression:"updateData.role"}],staticClass:"form-control",attrs:{name:"updaterole",id:"updaterole"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.updateData,"role",a.target.multiple?e:e[0])}}},t._l(t.selectdata.role,function(a){return e("option",{key:a.id,domProps:{value:a.id,textContent:t._s(a.name)}})}))])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-info  col-sm-3 col-sm-offset-4",attrs:{type:"button"},on:{click:function(a){t.UpdateData("updateRole")}}},[t._v("提 交")])])])])]):t._e(),t._v(" "),t.updateshow.upDatePass?e("div",{staticClass:"back_box "},[e("div",{staticClass:"panel panel-info col-sm-6 col-sm-offset-3 "},[e("div",{staticClass:"panel-heading"},[e("h2",{staticClass:"panel-title"},[t._v("修改信息")]),t._v(" "),e("span",{staticClass:"close glyphicon glyphicon-remove",on:{click:function(a){t.updateshow.upDatePass=!t.updateshow.upDatePass}}})]),t._v(" "),e("form",{staticClass:"form form-horizontal panel-body",attrs:{name:"myFormPass"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("旧密码")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("myoldPass")&&null!=t.updateData.oldPass,"has-error":t.errors.has("myoldPass")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.oldPass,expression:"updateData.oldPass"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"myoldPass",placeholder:"请输入旧密码","data-vv-as":"密码"},domProps:{value:t.updateData.oldPass},on:{input:function(a){a.target.composing||t.$set(t.updateData,"oldPass",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("myoldPass"),expression:"errors.has('myoldPass')"}]},[t._v(t._s(t.errors.first("myoldPass")))])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("新密码")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("newPass")&&null!=t.updateData.newpass,"has-error":t.errors.has("newPass")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.newpass,expression:"updateData.newpass"},{name:"validate",rawName:"v-validate",value:"required|password",expression:"'required|password'"}],staticClass:"form-control",attrs:{type:"password",name:"newPass",placeholder:"请输入新密码","data-vv-as":"密码"},domProps:{value:t.updateData.newpass},on:{input:function(a){a.target.composing||t.$set(t.updateData,"newpass",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("newPass"),expression:"errors.has('newPass')"}]},[t._v(t._s(t.errors.first("newPass")))])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-3",staticStyle:{"font-size":"8px"}},[t._v("密码为字母、数字和符号两种及以上的组合，6-16个字符")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("确认密码")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("mynewPass")&&t.updateData.newpass==t.updateData.newPass&&null!=t.updateData.newPass,"has-error":t.errors.has("mynewPass")||t.updateData.newpass!=t.updateData.newPass}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.newPass,expression:"updateData.newPass"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"mynewPass",placeholder:"请再次输入新密码","data-vv-as":"密码"},domProps:{value:t.updateData.newPass},on:{input:function(a){a.target.composing||t.$set(t.updateData,"newPass",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mynewPass"),expression:"errors.has('mynewPass')"}]},[t._v(t._s(t.errors.first("mynewPass")))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.updateData.newpass!=t.updateData.newPass&&null!=t.updateData.newPass,expression:"updateData.newpass!=updateData.newPass&&updateData.newPass!=null"}]},[t._v("两次密码不符")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-info  col-sm-3 col-sm-offset-4",attrs:{type:"button"},on:{click:function(a){t.UpdateData("updatePwd")}}},[t._v("提 交")])])])])]):t._e(),t._v(" "),t.updateshow.upDate?e("div",{staticClass:"back_box "},[e("div",{staticClass:"panel panel-info col-sm-6 col-sm-offset-3"},[e("div",{staticClass:"panel-heading"},[e("h2",{staticClass:"panel-title"},[t._v("修改信息")]),t._v(" "),e("span",{staticClass:"close glyphicon glyphicon-remove",on:{click:function(a){t.updateshow.upDate=!t.updateshow.upDate}}})]),t._v(" "),e("form",{staticClass:"form form-horizontal panel-body",attrs:{name:"myForm"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("昵称")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("myNic")&&null!=t.updateData.nic,"has-error":t.errors.has("myNic")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.nic,expression:"updateData.nic"},{name:"validate",rawName:"v-validate",value:"required|cnlength:12",expression:"'required|cnlength:12'"}],staticClass:"form-control",attrs:{type:"text",name:"myNic",required:"","data-vv-as":"昵称"},domProps:{value:t.updateData.nic},on:{input:function(a){a.target.composing||t.$set(t.updateData,"nic",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("myNic"),expression:"errors.has('myNic')"}]},[t._v(t._s(t.errors.first("myNic")))])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("myName")&&null!=t.updateData.name,"has-error":t.errors.has("myName")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.name,expression:"updateData.name"},{name:"validate",rawName:"v-validate",value:"required|regex:^[一-龡0a-zA-Z]+$",expression:"'required|regex:^[\\u4e00-\\u9fa10a-zA-Z]+$'"}],staticClass:"form-control",attrs:{type:"text",name:"myName","data-vv-as":"姓名"},domProps:{value:t.updateData.name},on:{input:function(a){a.target.composing||t.$set(t.updateData,"name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger "},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("myName"),expression:"errors.has('myName')"}]},[t._v(t._s(t.errors.first("myName")))])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("邮箱")]),t._v(" "),e("div",{staticClass:"col-sm-8",class:{"has-success":!t.errors.has("myEmail")&&null!=t.updateData.email,"has-error":t.errors.has("myEmail")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateData.email,expression:"updateData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",name:"myEmail",required:"","data-vv-as":"邮箱"},domProps:{value:t.updateData.email},on:{input:function(a){a.target.composing||t.$set(t.updateData,"email",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-10 col-sm-offset-2 text-alert control-label text-danger "},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("myEmail"),expression:"errors.has('myEmail')"}]},[t._v(t._s(t.errors.first("myEmail")))])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-info  col-sm-3 col-sm-offset-4",attrs:{type:"button"},on:{click:function(a){t.UpdateData("updateDate")}}},[t._v("提 交")])])])])]):t._e()]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h2",{staticClass:"panel-title"},[this._v("补全资料")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"text-primary"},[this._v("请补全您的信息，方便获取系统更多的功能")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h2",{staticClass:"panel-title"},[this._v("基本资料")])])}]};var n=e("VU/8")(o,i,!1,function(t){e("1Fdy")},"data-v-28d05317",null);a.a=n.exports},"1Fdy":function(t,a){},"6+aJ":function(t,a,e){"use strict";var s={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("link",{attrs:{rel:"stylesheet",href:"static/css/main.css"}}),this._v(" "),a("div",[a("div",{staticClass:"col-sm-12 navbar-static-top"},[a("router-view",{attrs:{name:"topbar"}})],1),this._v(" "),a("div",{staticClass:"col-sm-2"},[a("router-view",{attrs:{name:"leftmenu"}})],1),this._v(" "),a("div",{staticClass:"col-sm-10"},[a("router-view",{attrs:{name:"index"}})],1)])])},staticRenderFns:[]};var r=e("VU/8")({},s,!1,function(t){e("8TfT")},"data-v-0a565b9b",null);a.a=r.exports},"6xM5":function(t,a){},"89Cu":function(t,a){},"8TfT":function(t,a){},JvOr:function(t,a,e){"use strict";var s={data:function(){return{menus:[]}},created:function(){this.loginmenu(this)},methods:{loginmenu:function(t){t.$axios.get("static/json/menu.json").then(function(a){t.menus=a.data.menu}).catch(function(t){console.log(t)})},changeMenu:function(t,a,e){var s=this;e.target.nextSibling.nextSibling;this.menus.forEach(function(a){a.show!==s.menus[t].show&&(a.show=!1)}),a.show=!a.show}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list-group"},[e("a",{staticClass:"list-group-item list-group-item-heading list-item-head"},[t._v("模块管理")]),t._v(" "),e("ul",t._l(t.menus,function(a,s){return e("li",{key:s},[0===a.type?e("button",{class:["list-group-item btn btn-link menu-list",{active:a.show}],on:{click:function(e){t.changeMenu(s,a,e)}}},[e("span",[t._v(t._s(a.title))])]):t._e(),t._v(" "),e("ul",{class:["ul-item",{block:a.show,none:!a.show}]},t._l(a.list,function(a){return e("li",{key:a.href},[e("router-link",{staticClass:"ul-a",attrs:{"active-class":"active",to:"/main/"+a.href},domProps:{textContent:t._s(a.title)}})],1)}))])}))])},staticRenderFns:[]};var o=e("VU/8")(s,r,!1,function(t){e("sxzU")},"data-v-22d1f610",null);a.a=o.exports},KW24:function(t,a){},KkWL:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("fZjL"),r=e.n(s),o=e("7+uW"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]},n=e("VU/8")({name:"App",mounted:function(){},methods:{}},i,!1,null,null,null).exports,l=e("YaEn"),c={isEmptyObject:function(t){for(var a in t)return!1;return!0}},d=e("NYxO"),u=(e("Ya8g"),e("mvHQ")),m=e.n(u),v={user:{},islogin:!1},p={IS_LOGIN:function(t){t.commit;c.isEmptyObject(v.user)&&(v.user=JSON.parse(sessionStorage.getItem("user_info")),v.islogin=sessionStorage.getItem("isLogin"))}},f={state:v,getters:{},actions:p,mutations:{UPDATE_USER:function(t,a){t.user=a,sessionStorage.setItem("user_info",m()(t.user))},SET_IS_LOGIN:function(t,a){t.islogin=a,sessionStorage.setItem("isLogin",t.islogin)},REMOVE_USER:function(){sessionStorage.removeItem("user_info")}}},h={state:{}};o.a.use(d.a);var g=new d.a.Store({modules:{user:f,session:h}});l.a.beforeEach(function(t,a,e){t.meta.requireAuth?(g.state.islogin||g.dispatch("IS_LOGIN"),!c.isEmptyObject(g.state.user.user)&&g.state.user.islogin?e():(g.commit("SET_IS_LOGIN",!1),e({path:"/"}))):e()});var _=e("mtWM"),C=e.n(_),w={datafilter:function(t,a){function e(t){return t<10?"0"+t:t}var s=new Date(Number(t)),r=e(s.getFullYear()),o=e(s.getMonth()+1),i=e(s.getDate());if("yyyyMMdd"==a)return r+"年"+o+"月"+i+"日"}},b=e("sUu7"),x=e("+8+3"),y=e.n(x),D=e("TXmL");o.a.use(D.a);var N=new D.a({locale:"zh_CN"});o.a.use(b.b,{errorBagName:"errors",fieldsBagName:"fields",delay:100,locale:"zh_CN",strict:!0,enableAutoClasses:!0,events:"focus|input|blur|submit",inject:!0},{i18n:N,i18nRootKey:"validation",dictionary:{zh_CN:y.a}});b.b.Validator.localize({zh_CN:{messages:{numeric:function(t){return t+"应为数字"},required:function(t){return t+"不能为空"},max:function(t,a){return t+"不能超过"+a[0]+"个字符"},min:function(t,a){return t+"不能少于"+a[0]+"个字符"},length:function(t,a){return t+"应该为"+a[0]+"个字符"},regex:function(t){return t+"格式不正确"},alpha_num:function(t,a){return t+"只能为数字或英文"},email:function(t){return t+"格式不正确"}}}}),b.a.extend("tel",{getMessage:function(t){return" 请输入正确格式的手机号"},validate:function(t,a){return 11==t.length&&/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(t)}}),b.a.extend("password",{getMessage:function(t){return t+"应为字母、数字和符号两种及以上的组合，6-16个字符"},validate:function(t,a){return/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?![,\!\.#%'\+\*\-:;^_`]+$)[,\!\.#%'\+\*\-:;^_`0-9A-Za-z]{6,16}$/.test(t)}}),b.a.extend("cnlength",{getMessage:function(t,a){return t+"长度不能超过"+a[0]+"位"},validate:function(t,a){return t.replace(/[\u0391-\uFFE5]/g,"aa").length<=a[0]}}),b.a.extend("idnumber",{getMessage:function(t,a){return t+"格式不正确"},validate:function(t,a){return/(^\d{110}$)|(^\d{112}$)|(^\d{17}(\d|X|x)$)/.test(t)}});var P=e("ppUw"),$=e.n(P),k=e("pFYg"),A=e.n(k);var E={inforAddclickApi:function(t,a){t.$emit("inforAddCall",a),t.$validator.errors.clear()},ObjectCopy:function t(a){var e={};for(var s in a)A()(a[s])==Object?t(a[s]):e[s]=a[s];return e}};o.a.use($.a),C.a.defaults.withCredentials=!0,o.a.config.productionTip=!1,o.a.prototype.$api=E,o.a.prototype.HOST="http://192.168.1.182:8081/AI_BD/",o.a.prototype.$axios=C.a,r()(w).forEach(function(t){o.a.filter(t,w[t])});new o.a({el:"#app",router:l.a,store:g,components:{App:n},template:"<App/>"})},NYqL:function(t,a){},OhtJ:function(t,a,e){"use strict";var s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar topbar_nav"},[e("div",{staticClass:"container-fluid col-sm-11 col-sm-offset-1"},[t._m(0),t._v(" "),e("div",{staticClass:" col-sm-3 col-sm-offset-6"},[e("ul",{staticClass:"nav navbar-nav"},[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("li",[e("a",{attrs:{href:t.HOST+"loginOut.action"},on:{click:t.loginOut}},[e("span",{staticClass:"glyphicon glyphicon-off"}),t._v("注销")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"navbar-header col-sm-3"},[a("span",{staticClass:"navbar-brand"},[this._v("PHM")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#/main"}},[a("span",{staticClass:"glyphicon glyphicon-home"}),a("span",[this._v("首页")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#/userindex"}},[a("span",{staticClass:"glyphicon glyphicon-user"}),this._v("个人中心")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"glyphicon glyphicon-cog"}),this._v("设置")])])}]};var r=e("VU/8")({methods:{loginOut:function(){this.$store.commit("SET_IS_LOGIN",!1),this.$store.commit("REMOVE_USER")}}},s,!1,function(t){e("NYqL")},"data-v-58dba4b7",null);a.a=r.exports},YaEn:function(t,a,e){"use strict";(function(t){var s=e("7+uW"),r=e("/ocq"),o=e("xJsL"),i=e("6+aJ"),n=e("iyuX"),l=e("OhtJ"),c=e("JvOr"),d=e("hF6C"),u=e("uLbC"),m=e("+b34");s.a.use(r.a);var v=new r.a({base:t,routes:[{path:"/",name:"Login",component:o.a,meta:{title:"登录"}},{path:"/rigster",name:"rigster",component:n.a,meta:{title:"注册"}},{path:"/main",name:"main",component:i.a,children:[{path:"/main/",name:"default",components:{topbar:l.a,leftmenu:c.a,index:d.a},meta:{requireAuth:!0}},{path:"/main/:stateid",name:"index",components:{topbar:l.a,leftmenu:c.a,index:d.a}}]},{path:"/userindex",name:"userindex",component:u.a,children:[{path:"/userindex/",components:{topbar:l.a,userindex:m.a}}]}]});a.a=v}).call(a,"/")},hF6C:function(t,a,e){"use strict";var s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.inforAddClick}},[t._v("新增")]),t._v(" "),e("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("修改")]),t._v(" "),e("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("删除")]),t._v(" "),e("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("审核")]),t._v(" "),e("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("冻结")])])])},staticRenderFns:[]};var r=e("VU/8")({data:function(){return{}},methods:{inforAddClick:function(){this.$api.inforAddclickApi(this,!0)}}},s,!1,function(t){e("6xM5")},null,null).exports,o=e("//Fk"),i=e.n(o),n={data:function(){return{initData:{id:"",name:"",url:"",detail:"",menutype:"2",sortNum:0},addData:{},nameVer:"",urlVer:""}},props:["stateId","statestitle"],created:function(){this.addData=this.$api.ObjectCopy(this.initData)},mounted:function(){var t=this,a={getMessage:function(t){return console.log(t),"已存在"},validate:function(a,e){return new i.a(function(s){if(a){var r={data:{data:a,name:e[0]},states:{id:t.stateId}};return s(t.$axios.post(t.HOST+"inspectData.action",r).then(function(t){return""!=t.data.msg?(console.log(t.data),{valid:!1,data:{message:t.data.msg}}):{valid:!0,data:{message:""}}}).catch(function(t){return console.log(t),console.log("网络错误"),{valid:!0,data:{message:""}}}))}return!0})}};this.$validator.extend("val",a)},methods:{inforAddclick:function(){this.addData=this.$api.ObjectCopy(this.initData),this.$api.inforAddclickApi(this,!1)},addDatas:function(){var t=this,a=t.stateId,e=t.addData,s={data:e,states:{id:a}};t.$validator.validateAll().then(function(a){a&&t.$axios.post(t.HOST+"distributor.action",s).then(function(t){console.log(t),alert("添加成功"),e={}}).catch(function(t){alert("添加失败")}).catch(function(t){console.log(t)})})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"col-sm-2"},[e("h5",[e("span",{domProps:{textContent:t._s(t.statestitle)}}),t._v("添加")])]),t._v(" "),e("div",{staticClass:"col-sm-12"},[e("form",{staticClass:"form form-horizontal col-sm-8",attrs:{name:"myform"}},["gongnengguanli"==t.stateId?e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[t._v("类别")]),t._v(" "),e("div",[e("div",{staticClass:"col-sm-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.menutype,expression:"addData.menutype"}],attrs:{type:"radio",name:"type",id:"type1",value:"1"},domProps:{checked:t._q(t.addData.menutype,"1")},on:{change:function(a){t.$set(t.addData,"menutype","1")}}}),e("label",{staticClass:"control-label",attrs:{for:"type1"}},[t._v("目录")])]),t._v(" "),e("div",{staticClass:"col-sm-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.menutype,expression:"addData.menutype"}],attrs:{type:"radio",name:"type",id:"type2",value:"2"},domProps:{checked:!0,checked:t._q(t.addData.menutype,"2")},on:{change:function(a){t.$set(t.addData,"menutype","2")}}}),e("label",{staticClass:"control-label",attrs:{for:"type2"}},[t._v("菜单")])]),t._v(" "),e("div",{staticClass:"col-sm-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.menutype,expression:"addData.menutype"}],attrs:{type:"radio",name:"type",id:"type3",value:"3"},domProps:{checked:t._q(t.addData.menutype,"3")},on:{change:function(a){t.$set(t.addData,"menutype","3")}}}),e("label",{staticClass:"control-label",attrs:{for:"type3"}},[t._v("按钮")])])])]):t._e(),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[e("span",{domProps:{textContent:t._s(t.statestitle)}}),t._v("名")]),t._v(" "),e("div",{staticClass:"col-sm-6",class:{"has-success":!t.errors.has("name")&&""!=t.addData.name,"has-error":t.errors.has("name")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.name,expression:"addData.name"},{name:"validate",rawName:"v-validate",value:"required|cnlength:20|val:name",expression:"'required|cnlength:20|val:name'"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"请输入"+t.statestitle+"名,最多为20位","data-vv-as":t.statestitle+"名"},domProps:{value:t.addData.name},on:{input:function(a){a.target.composing||t.$set(t.addData,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}]},[t._v(t._s(t.errors.first("name")))])])]),t._v(" "),"gongnengguanli"==t.stateId?e("div",[2==t.addData.menutype?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[t._v("菜单url")]),t._v(" "),e("div",{staticClass:"col-sm-6",class:{"has-success":!t.errors.has("url")&&""!=t.addData.url,"has-error":t.errors.has("url")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.url,expression:"addData.url"},{name:"validate",rawName:"v-validate",value:"required|alpha_num|val:url",expression:"'required|alpha_num|val:url'"}],staticClass:"form-control",attrs:{type:"text",name:"url",placeholder:"请输入菜单url,只能输入英文和数字","data-vv-as":"url"},domProps:{value:t.addData.url},on:{input:function(a){a.target.composing||t.$set(t.addData,"url",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("url"),expression:"errors.has('url')"}]},[t._v(t._s(t.errors.first("url")))])])]):t._e(),t._v(" "),t._m(0),t._v(" "),1!=t.addData.menutype?e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[t._v("授权标识")]),t._v(" "),t._m(1)]):t._e(),t._v(" "),3!=t.addData.menutype?e("div",[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[t._v("排序号")]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.sortNum,expression:"addData.sortNum"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.addData.sortNum},on:{input:function(a){a.target.composing||t.$set(t.addData,"sortNum",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[t._v("图标")]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.icon,expression:"addData.icon"}],staticClass:"form-control",attrs:{type:"text",placeholder:"菜单图标"},domProps:{value:t.addData.icon},on:{input:function(a){a.target.composing||t.$set(t.addData,"icon",a.target.value)}}})])])]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label col-sm-2"},[t._v("详情描述")]),t._v(" "),e("div",{staticClass:"col-sm-6",class:{"has-success":!t.errors.has("mydetail")&&""!=t.addData.detail,"has-error":t.errors.has("mydetail")}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addData.detail,expression:"addData.detail"},{name:"validate",rawName:"v-validate",value:"required|cnlength:50",expression:"'required|cnlength:50'"}],staticClass:"form-control",attrs:{rows:"6",name:"mydetail",placeholder:"请输入描述信息，最多不超过50个字符","data-vv-as":"描述"},domProps:{value:t.addData.detail},on:{input:function(a){a.target.composing||t.$set(t.addData,"detail",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mydetail"),expression:"errors.has('mydetail')"}]},[t._v(t._s(t.errors.first("mydetail")))])])]),t._v(" "),e("div",{staticClass:"form-group col-sm-12"},[e("button",{staticClass:" col-sm-2 col-sm-offset-2 btn btn-info",attrs:{type:"button"},on:{click:t.addDatas}},[t._v("提交")]),t._v(" "),e("button",{staticClass:" col-sm-2 col-sm-offset-2  btn btn-warning",attrs:{type:"button"},on:{click:t.inforAddclick}},[t._v("返回")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[this._v("上级菜单")]),this._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{staticClass:"form-control",attrs:{type:"text",value:"一级菜单"}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-6"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"用多个逗号分隔；如user:list,user:delete"}})])}]},c={components:{buttons:r,add:e("VU/8")(n,l,!1,null,null,null).exports},data:function(){return{page:{titleData:[],datas:[],pages:[],pageselect:[2,5,10],active:1,pagelist:5,pageTotal:0,listTotal:0,count:5},loginpage:"",inforAdd:!1}},props:["stateId","statestitle"],mounted:function(){this.loginclick()},methods:{countclick:function(){this.allcheck=!1,this.page.active=1,this.loginclick(this)},loginclick:function(){var t=this;t.$axios.post(t.HOST+"selectPaging.action",{page:{active:t.page.active,pagelist:t.page.pagelist},state:{id:t.stateId,ChildId:t.childId}}).then(function(a){t.page.titleData=t.judgeTitle(a.data.data_title),t.page.datas=t.judgeData(a.data.lists),t.page.listTotal=a.data.listTotal,t.page.pageTotal=Math.ceil(t.page.listTotal/t.page.pagelist),t.page.pages=t.pagelogin(t.page.pageTotal,t.page.active,t.page.count)}).catch(function(a){console.log(a),t.page.datas=""})},pageClick:function(t){var a=t,e=this.page.active,s=this.page.pageTotal;if(a!=e){if(a>s)return alert("没有第"+a+"页"),void(this.loginpage="");if("首页"==a)a=1;else if("尾页"==a)a=s;else if("«"==a){if(1==e)return;a=e-1}else if("»"==a){if(e==s)return;a=e+1}else a<1&&(a=1);this.loginpage="",this.loginclick&&"function"==typeof this.loginclick&&(this.page.active=a,this.loginclick())}else this.loginpage=""},judgeTitle:function(t){var a=t;if(a.length){for(var e=0;e<a.length;e++)"密码"==a[e]&&(a=a.splice(e,1));return a}return[]},judgeData:function(t){var a=t;return a.length>0?a.forEach(function(t){for(var a in t)switch(a){case"password":delete t[a];break;case"regtime":t[a]=datafilter(t[a],"yyyyMMdd")}}):a="",a},pagelogin:function(t,a,e){var s=a-Math.floor(e/2),r=a+Math.floor(e/2);s<=0&&(r=(s=1)+e-1),r>t&&(s=(r=t)-e+1);for(var o=[],i=s;i<=r;i++)i>0&&o.push(i);return o.length>0&&(o.push("»"),o.unshift("«"),o.push("尾页"),o.unshift("首页")),o},inforAddCall:function(t){this.inforAdd=t}},watch:{stateId:function(t,a){this.loginclick(),this.inforAdd=!1}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"panel panel-info"},[e("div",{staticClass:"panel-body"},[e("div",[e("h3",[e("span",{domProps:{textContent:t._s(t.statestitle)}}),t._v("信息")])]),t._v(" "),t.page.datas!=[]?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.inforAdd,expression:"!inforAdd"}]},[e("div",[e("buttons",{on:{inforAddCall:t.inforAddCall}})],1),t._v(" "),e("table",{staticClass:"table table-bordered table-striped table-hover"},[e("thead",[e("tr",t._l(t.page.titleData,function(a,s){return e("th",{key:s,domProps:{textContent:t._s(a)}})}))]),t._v(" "),e("tbody",t._l(t.page.datas,function(a,s){return e("tr",{key:s},t._l(a,function(a,s){return e("td",{key:s,domProps:{textContent:t._s(a)}})}))}))]),t._v(" "),e("ul",{staticClass:"pagination col-sm-12"},[e("div",{staticClass:"col-sm-3"},[e("a",{staticClass:"btn disabled",domProps:{innerHTML:t._s("位于第"+t.page.active+"页")}}),t._v(" "),e("a",{staticClass:"btn disabled",domProps:{innerHTML:t._s("共"+t.page.pageTotal+"页")}})]),t._v(" "),t._l(t.page.pages,function(a){return e("li",{key:a,class:{active:t.page.active==a},on:{click:function(e){t.pageClick(a)}}},[e("a",{attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a)}})])}),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"col-sm-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.page.pagelist,expression:"page.pagelist"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.page,"pagelist",a.target.multiple?e:e[0])},t.countclick]}},t._l(t.page.pageselect,function(a,s){return e("option",{key:s,domProps:{value:a,selected:a==t.page.count,textContent:t._s(a)}})}))]),t._v(" "),e("div",{staticClass:"col-sm-3 loginpage"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginpage,expression:"loginpage"}],staticClass:"form-control",staticStyle:{"font-size":"6px"},attrs:{type:"text",placeholder:"前往页数"},domProps:{value:t.loginpage},on:{input:function(a){a.target.composing||(t.loginpage=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"btn btn-info",on:{click:function(a){t.pageClick(t.loginpage)}}},[t._v("前往")])])])],2)]):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.inforAdd,expression:"inforAdd"}]},[e("add",{attrs:{stateId:t.stateId,statestitle:t.statestitle},on:{inforAddCall:t.inforAddCall}})],1)])])},staticRenderFns:[]};var u=e("VU/8")(c,d,!1,function(t){e("KW24")},null,null).exports,m={name:"index",components:{selectok:u,selectwill:u},data:function(){return{stateId:"",childId:"",childMenus:[],statesTitle:""}},mounted:function(){this.loginhref()},methods:{loginhref:function(){""==this.stateId&&(location.href="#/main")},ChildHttp:function(){},stateUpdateWatch:function(t){var a=this;switch(a.componentId="selectok",""!=t?(a.stateId=t,a.ChildHttp(),""!=a.componentId?a.childId=a.componentId:a.childId=""):a.stateId="",a.stateId){case"jueseguanli":a.statesTitle="角色";break;case"gongnengguanli":a.statesTitle="功能";break;case"yonghuguanli":a.statesTitle="用户"}}},watch:{$route:function(t,a){this.stateUpdateWatch(t.params.stateid),this.$validator.errors.clear()},componentId:function(t,a){this.childId=t}}},v={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[this.stateId?a("div",{staticClass:"col-sm-12"},[a("selectok",{attrs:{stateId:this.stateId,statestitle:this.statesTitle}})],1):this._e()])},staticRenderFns:[]};var p=e("VU/8")(m,v,!1,function(t){e("89Cu")},"data-v-7c27f6d8",null);a.a=p.exports},iyuX:function(t,a,e){"use strict";var s={data:function(){return{newuser:{tel:"",code:"",userid:"",pass:"",password:""},codedis:!1,codeinner:"获取验证码",codeerrormsg:"",errormsg:""}},methods:{removecodeMSg:function(){this.codeerrormsg=""},loginCode:function(){var t=this,a=t.newuser.tel;t.codeerrormsg||t.$axios.post(t.HOST+"sendCode.action",{tel:a}).then(function(a){console.log(a.data);var e=a.data.msg,s="本号码已存在,"==e;e=s?e+"请<a href='#/'>直接登录</a>":e,t.codeerrormsg=e,t.codedis=s,s||t.codeDis()}).catch(function(t){console.log(t)})},codeDis:function(){var t=this;t.codedis=!0;var a=10;s();var e=setInterval(s,1e3);function s(){t.codeinner=a+"秒后继续",(a-=1)<=-1&&(clearInterval(e),t.codeinner="再次获取",t.codedis=!1)}},submits:function(){var t=this,a=t.newuser;t.$validator.validateAll().then(function(e){e&&a.pass==a.password&&t.$refs.myForm.submit()})}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("link",{attrs:{rel:"stylesheet",href:"static/css/newuser.css"}}),t._v(" "),e("link",{attrs:{rel:"stylesheet",href:"static/css/style.css"}}),t._v(" "),e("div",{staticClass:"container user_box"},[e("div",{staticClass:"panel panel-info"},[t._m(0),t._v(" "),e("div",{staticClass:"panel-body"},[t._m(1),t._v(" "),e("form",{ref:"myForm",staticClass:"form form-horizontal col-sm-4 col-sm-offset-4",attrs:{name:"myForm",action:t.HOST+"register.action",method:"post"}},[e("div",{staticClass:"form-group",domProps:{innerHTML:t._s(t.errormsg)}}),t._v(" "),e("div",{staticClass:"form-group",class:{"has-success":!t.errors.has("tel")&&""!=t.newuser.tel,"has-error":t.errors.has("tel")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newuser.tel,expression:"newuser.tel"},{name:"validate",rawName:"v-validate",value:"required|tel",expression:"'required|tel'"}],staticClass:"form-control",attrs:{type:"text",name:"tel",placeholder:"请输入11位手机号","data-vv-as":"手机号"},domProps:{value:t.newuser.tel},on:{input:[function(a){a.target.composing||t.$set(t.newuser,"tel",a.target.value)},t.removecodeMSg]}})]),t._v(" "),e("div",{staticClass:"col-sm-11 col-sm-offset-1 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("tel"),expression:"errors.has('tel')"}]},[t._v(t._s(t.errors.first("tel")))]),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.codeerrormsg)}})])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-success":!t.errors.has("code")&&""!=t.newuser.code,"has-error":t.errors.has("code")}},[e("div",{staticClass:"col-sm-7"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newuser.code,expression:"newuser.code"},{name:"validate",rawName:"v-validate",value:"required|numeric|length:6",expression:"'required|numeric|length:6'"}],staticClass:"form-control",attrs:{type:"text",name:"code","data-vv-as":"验证码",placeholder:"请输入验证码",disabled:t.errors.has("tel")||""==t.newuser.tel},domProps:{value:t.newuser.code},on:{input:function(a){a.target.composing||t.$set(t.newuser,"code",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-5"},[e("button",{ref:"code",staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:t.errors.has("tel")||""==t.newuser.tel||t.codedis},domProps:{innerHTML:t._s(t.codeinner)},on:{click:t.loginCode}})]),t._v(" "),e("div",{staticClass:"col-sm-11 col-sm-offset-1 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("code"),expression:"errors.has('code')"}]},[t._v(t._s(t.errors.first("code")))])])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-success":!t.errors.has("userid")&&""!=t.newuser.userid,"has-error":t.errors.has("userid")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newuser.userid,expression:"newuser.userid"},{name:"validate",rawName:"v-validate",value:"required|cnlength:6",expression:"'required|cnlength:6'"}],staticClass:"form-control",attrs:{type:"text",name:"userid","data-vv-as":"用户名",placeholder:"请输入用户名"},domProps:{value:t.newuser.userid},on:{input:function(a){a.target.composing||t.$set(t.newuser,"userid",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-11 col-sm-offset-1 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("userid"),expression:"errors.has('userid')"}]},[t._v(t._s(t.errors.first("userid")))])])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-success":!t.errors.has("password")&&""!=t.newuser.pass,"has-error":t.errors.has("password")}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newuser.pass,expression:"newuser.pass"},{name:"validate",rawName:"v-validate",value:"required|password",expression:"'required|password'"}],staticClass:"form-control",attrs:{type:"password",name:"password","data-vv-as":"密码",placeholder:"请输入密码"},domProps:{value:t.newuser.pass},on:{input:function(a){a.target.composing||t.$set(t.newuser,"pass",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-11 col-sm-offset-1 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}]},[t._v(t._s(t.errors.first("password")))])]),t._v(" "),e("div",{staticClass:"col-sm-12",staticStyle:{"font-size":"8px"}},[t._v("密码为字母、数字和符号两种及以上的组合，6-16个字符")])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-success":!t.errors.has("repw")&&t.newuser.pass==t.newuser.password&&""!=t.newuser.password,"has-error":t.errors.has("repw")||t.newuser.pass!=t.newuser.password}},[e("div",{staticClass:"col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newuser.password,expression:"newuser.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"repw","data-vv-as":"确认密码",placeholder:"再次输入密码"},domProps:{value:t.newuser.password},on:{input:function(a){a.target.composing||t.$set(t.newuser,"password",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-11 col-sm-offset-1 text-alert text-danger"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("repw"),expression:"errors.has('repw')"}]},[t._v(t._s(t.errors.first("repw")))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.newuser.pass!=t.newuser.password&&""!=t.newuser.password,expression:"newuser.pass!=newuser.password&&newuser.password!=''"}]},[t._v("两次密码不符")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-info col-sm-5 col-sm-offset-3",attrs:{type:"button"},on:{click:t.submits}},[t._v("注册")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[this._v("注册帐号")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-link  pull-right",attrs:{id:"index",href:"#/"}},[this._v("返回登录页面")])])}]},o=e("VU/8")(s,r,!1,null,null,null);a.a=o.exports},sxzU:function(t,a){},uLbC:function(t,a,e){"use strict";var s={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("router-view",{attrs:{name:"topbar"}}),this._v(" "),a("router-view",{attrs:{name:"userindex"}})],1)},staticRenderFns:[]},r=e("VU/8")({},s,!1,null,null,null);a.a=r.exports},xJsL:function(t,a,e){"use strict";var s={data:function(){return{user:{id:"",pass:"",code:""},imgsrc:this.HOST+"captcha.jpg",errormsg:""}},methods:{clickIMG:function(){this.$refs.img.src=this.imgsrc+"?"+new Date},loginByTel:function(){var t=this,a=t.user;""!=a.id&&""!=a.pass&&t.$axios.post(t.HOST+"login.action",a).then(function(a){t.opreateResp(a.data)}).catch(function(t){console.log(t)})},opreateResp:function(t){var a=this;switch(t.code){case"0":a.$store.commit("UPDATE_USER",{id:t.id}),a.$store.commit("SET_IS_LOGIN",!0),a.$router.push("/main");break;case"500":a.errormsg='<div class="alert alert-danger">'+t.msg+"</div>",a.clickIMG(),a.user.pass=a.user.code=""}}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("link",{attrs:{rel:"stylesheet",href:"static/css/index.css"}}),t._v(" "),e("div",{staticClass:"container login"},[e("form",{staticClass:"form-horizontal  col-sm-5 col-sm-offset-3 form_box",attrs:{name:"myform"}},[e("div",{staticClass:"form-group",domProps:{innerHTML:t._s(t.errormsg)}}),t._v(" "),e("div",{staticClass:"form-group col-sm-12"},[e("label",{staticClass:"control-label col-sm-2",attrs:{for:"ID"}},[t._v("帐号")]),t._v(" "),e("div",{staticClass:" input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.id,expression:"user.id"}],staticClass:"form-control",attrs:{type:"text",id:"ID",required:"",name:"id",placeholder:"请输入帐号"},domProps:{value:t.user.id},on:{input:function(a){a.target.composing||t.$set(t.user,"id",a.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"form-group col-sm-12"},[e("label",{staticClass:"control-label col-sm-2",attrs:{for:"pass"}},[t._v("密码")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pass,expression:"user.pass"}],staticClass:"form-control",attrs:{type:"password",id:"pass",required:"",name:"pass",placeholder:"请输入密码"},domProps:{value:t.user.pass},on:{input:function(a){a.target.composing||t.$set(t.user,"pass",a.target.value)}}}),t._v(" "),t._m(1)])]),t._v(" "),e("div",{staticClass:"form-group col-sm-12"},[e("label",{staticClass:"control-label col-sm-2",attrs:{for:"loginCode"}},[t._v("验证码")]),t._v(" "),e("div",{staticClass:"col-sm-3 logincode "},[e("div",{staticClass:"input-group col-sm-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.code,expression:"user.code"}],staticClass:"form-control",attrs:{type:"text",id:"loginCode",required:"",name:"loginCode",placeholder:"输入验证码"},domProps:{value:t.user.code},on:{input:function(a){a.target.composing||t.$set(t.user,"code",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-7 logincode "},[e("img",{ref:"img",staticClass:"col-sm-6 logincode codeimg",attrs:{src:t.imgsrc,name:"img"}}),t._v(" "),e("a",{staticClass:"btn btn-link col-sm-6",on:{click:t.clickIMG}},[t._v("看不清，换一张")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-3 col-sm-offset-4"},[e("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button",href:"javascript:void(0)"},on:{click:t.loginByTel}},[t._v("登录")])])]),t._v(" "),e("a",{staticClass:"btn btn-link pull-right",attrs:{href:"#/rigster"}},[t._v("注册新用户")])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-user "})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-lock "})])}]};var o=e("VU/8")(s,r,!1,function(t){e("KkWL")},"data-v-59957620",null);a.a=o.exports}},["NHnr"]);
//# sourceMappingURL=app.d774ebb5f81a7c476b77.js.map