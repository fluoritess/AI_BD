{"version":3,"sources":["webpack:///./src/echarts/index.js","webpack:///src/views/IntelligentAgriculture/realTimeMonitor.vue","webpack:///./src/views/IntelligentAgriculture/realTimeMonitor.vue?96c0","webpack:///./src/views/IntelligentAgriculture/realTimeMonitor.vue","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js"],"names":["echarts","sensorInfNow","unittype","arguments","length","undefined","splitNumber","min","max","len","data","series","serieslen","centerFun","index","floor","Math","ceil","indexRemainder","radiusFun","i","push","radius","center","name","type","detail","formatter","unit","fontSize","axisLine","show","lineStyle","width","color","value","markPoint","clickable","symbol","symbolSize","x","y","itemStyle","axisLabel","toFixed","textStyle","axisTick","splitLine","tooltip","title","forEach","item","remainder","text","align","textAlign","titleFun","sensorInfHis","_ref","xAxisData","legnedData","dataZoom","start","zIndex","console","log","smooth","z","areaStyle","toolbox","feature","mark","dataView","readOnly","restore","saveAsImage","legend","grid","left","right","bottom","containLabel","xAxis","boundaryGap","margin","interval","yAxis","defineProperty_default","realTimeMonitor","sensorInfVisible","NowAndHistory","typenum","oldtypenum","restypenum","items","sensorInf","typeCheckData","initData","url","sensorHis","now","mounted","this","loginThisItems","sockets","methods","loginItems","direction","vm","drawChartNow","$socket","emit","id","$axios","post","HOST","then","success","catch","error","watchDraw","drawChartHistory","myChart","SPLITNUMBER","MAX","MIN","LEN","UNITTYPE","option","DATA","m","layer","msg","icon","shade","ResSensorInf","titlemax","titlemin","dataitem","maxbool","minbool","join","$layer","alert","time","setOption","growth_parameter_min","growth_parameter_max","sensor_value","sensor_position","sensor_id","$echarts","init","document","getElementById","window","echartoption","close","on","device_id","xdata","lengedData","list","date","$api","opreate","DateCompletion","collectTime","includes","sensorValue","sensorPosition","changeHisType","IntelligentAgriculture_realTimeMonitor","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","directives","rawName","expression","key","class","icon-farm","icon-greenHouse","icon-device","icon-sensor","domProps","innerHTML","_s","click","$event","_e","address","item-active","style","height","toString","attrs","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","$Object","Object","module","exports","it","desc","defineProperty","default","__esModule","obj","_defineProperty","_defineProperty2","enumerable","configurable","writable","$export","S","F","f"],"mappings":"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","file":"static/js/2.f1d05e83588fea96bc7d.js","sourcesContent":["var options={\r\n    sensorInfNow(unittype=[],splitNumber=[],min=[],max=[],len=[],data=[]){\r\n        var series=[];//驱动图表的数据内容数组\r\n        var serieslen=unittype.length;\r\n        var centerAxisNum=50;\r\n        var flooritemlen=3;\r\n        var centerFun=function(len=0,index=1){\r\n            var floor=Math.ceil(len/flooritemlen);\r\n            var indexRemainder=index%flooritemlen;\r\n            var remainder=len>=flooritemlen?flooritemlen:len%flooritemlen;\r\n            return [`${centerAxisNum/remainder*((indexRemainder==0?flooritemlen:indexRemainder)*2-1)}%`,`${centerAxisNum/floor*(Math.ceil(index/flooritemlen)*2-1)}%`];\r\n        }\r\n        var radiusFun=function (len){\r\n            return `${75/Math.ceil(len/flooritemlen)}%`\r\n        }\r\n        var titleFun=function (unittype,len){\r\n            var title=[];\r\n            var index=1;\r\n            let floor=Math.ceil(len/flooritemlen);\r\n            unittype.forEach(item=>{\r\n                let indexRemainder=index%flooritemlen;\r\n                let remainder=len>=flooritemlen?flooritemlen:len%flooritemlen;\r\n                title.push({\r\n                    text: item.name+'数据仪表图',\r\n                    x: `${centerAxisNum/remainder*((indexRemainder==0?flooritemlen:indexRemainder)*2-1)}%`,\r\n                    y:`${centerAxisNum/floor*(Math.ceil(index/flooritemlen)*2-2)}%`,\r\n                    textStyle:{\r\n                        align:'center'\r\n                    },\r\n                    textAlign: 'center'\r\n                });\r\n                index+=1;\r\n            })\r\n            return title;\r\n        }\r\n        for(var i=0;i<serieslen;i++){\r\n            series.push({ \r\n            min: min[i] - len[i] / (splitNumber[i] - 4) * 2,\r\n            max: max[i] + len[i] / (splitNumber[i] - 4) * 2,\r\n            splitNumber: splitNumber[i],\r\n            radius:radiusFun(serieslen),\r\n            center:centerFun(serieslen,i+1),\r\n            name: unittype[i].name,\r\n            type: 'gauge',\r\n            detail: {\r\n                formatter: `{value} ${unittype[i].unit}`,\r\n                fontSize:12\r\n            },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    width:15,\r\n                    color: [\r\n                        [2 / splitNumber[i], '#ec2a25'],\r\n                        [(splitNumber[i] - 2) / splitNumber[i], ' #47e64f'],\r\n                        [1, '#ec2a25']\r\n                    ],\r\n                },\r\n            },\r\n            data: [{\r\n                value: data[i],\r\n                name: `当前${unittype[i].name}`,\r\n            }],\r\n            markPoint: {\r\n                clickable: false,\r\n                symbol: 'circle',\r\n                symbolSize: 5,\r\n                data: [\r\n                    //跟你的仪表盘的中心位置对应上，颜色可以和画板底色一样\r\n                    {\r\n                        x: 'center',\r\n                        y: 'center',\r\n                        itemStyle: {\r\n                            color: '#FFF'\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                formatter: function (value) {\r\n                    return value.toFixed(1);\r\n                },\r\n                textStyle: {\r\n                    color: 'auto'\r\n                },\r\n            },\r\n            axisTick: {\r\n                splitNumber: 15,\r\n            },\r\n            splitLine:{\r\n                length:17,\r\n               lineStyle:{\r\n                color:'rgba(128, 128, 128, 0.5)',\r\n               }\r\n            },\r\n            tooltip: { //鼠标悬浮交互时的信息提示\r\n                formatter: `{a} <br/>{b} : {c} ${unittype[i].unit}`  //内容格式\r\n            },\r\n        });\r\n        }\r\n        return {\r\n            title:titleFun(unittype,serieslen),\r\n            tooltip: { //鼠标悬浮交互时的信息提示\r\n                formatter: \"{a} <br/>{b} : {c} \" //内容格式\r\n            },\r\n            splitNumber: splitNumber, //仪表盘分隔段数\r\n            series:series,\r\n        };\r\n    },\r\n    /**\r\n     * \r\n     * @param {Object} unittype 图表单位格式\r\n     * @param {Array} xAxisData x轴坐标名称,一维数组\r\n     * @param {Array} data 实际数据,二维数组\r\n     */\r\n    sensorInfHis(unittype=[],xAxisData=[],data=[],legnedData=[],dataZoom= {show: false,start : 0},title=\"数据历史记录曲线图\"){\r\n        var series=[];\r\n        var serieslen=unittype.length;\r\n        var zIndex=serieslen;\r\n        console.log(data)\r\n        for(var i=0;i<serieslen;i++){\r\n            series.push({\r\n                data: data[i],\r\n                type: 'line',\r\n                smooth: true,\r\n                symbolSize: 8,\r\n                tooltip:{\r\n                    formatter: \"{a} <br/>时间:{b}<br/>数据:{c} \"+unittype[i].unit //内容格式\r\n                },\r\n                z:zIndex,\r\n                name:legnedData[i],\r\n                areaStyle: {}\r\n            });\r\n            zIndex-=1;\r\n        }\r\n        return {\r\n            title: {\r\n                text:   title,\r\n                x: 'left'\r\n            },\r\n            tooltip: { //鼠标悬浮交互时的信息提示\r\n            },\r\n            toolbox:{\r\n                show:true,\r\n                feature : {\r\n                    mark : {show: true},\r\n                    dataView : {show: true, readOnly: false},\r\n                    restore : {show: true},\r\n                    saveAsImage : {show: true}\r\n                }\r\n            },\r\n            dataZoom:dataZoom,\r\n            legend: {\r\n                data:legnedData\r\n            },\r\n            grid: {\r\n                left: '3%',\r\n                right: '4%',\r\n                bottom: '3%',\r\n                containLabel: true\r\n            },\r\n            xAxis: { //x轴\r\n                name: \"时间\",\r\n                boundaryGap: false,\r\n                type: 'category',\r\n                axisLabel: {\r\n                    margin: 8\r\n                },\r\n                axisTick:{\r\n                    show:true,\r\n                    interval:0,\r\n                },\r\n                data: xAxisData,\r\n            },\r\n            yAxis: { // y轴\r\n                name: '历史数据',\r\n                type: 'value'\r\n            },\r\n            grid: { // 绘图网络\r\n    \r\n            },\r\n            series: series\r\n        }\r\n    },\r\n    \r\n};\r\nexport default options\n\n\n// WEBPACK FOOTER //\n// ./src/echarts/index.js","<template>\r\n<div>\r\n    <!--农场-->\r\n    <div class=\"panel panel-info\">\r\n        <div class=\"panel-body\">\r\n            <div>实时监测</div>\r\n            <div>\r\n                <div class=\"panel panel-default\">\r\n                    <div class=\"panel-heading\">\r\n                        <div>\r\n                            <h4>\r\n                                <span v-for=\"(item,index) in typeCheckData\" :key=\"index\" v-html=\"item.name+'&nbsp;&nbsp;&nbsp;&nbsp;'\" v-show=\"index<typenum||sensorInfVisible\" :class=\"['iconfont',{'icon-farm':index==0,'icon-greenHouse':index==1,'icon-device':index==2,'icon-sensor':index==3,}]\"></span>\r\n                                <span v-show=\"!sensorInfVisible\" v-html=\"initData[typenum].title\" :class=\"['iconfont',{'icon-farm':typenum==0,'icon-greenHouse':typenum==1,'icon-device':typenum==2,'icon-sensor':typenum==3,}]\"></span>\r\n                                <a v-if=\"typenum!=0\" class=\"btn btn-link pull-right\" @click=\"loginItems(-1)\">返回上一级</a>\r\n                            </h4>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        <!--选择位置-->\r\n                        <div v-show=\"!sensorInfVisible\">\r\n                            <div v-if=\"items.length>0\">\r\n                                <div class=\"col-sm-3 col-md-3 col-lg-2\" v-for=\"(item,index) in items\" :key=\"index\">\r\n                                    <div class=\"item-back\" @click=\"loginItems(1,item)\">\r\n                                        <div class=\"real-item\">\r\n                                            <div class=\"real-icon\">\r\n                                                <i class=\"iconfont \" :class=\"['iconfont',{'icon-farm':typenum==0,'icon-greenHouse':typenum==1,'icon-device':typenum==2,'icon-sensor':typenum==3,}]\"></i>\r\n                                            </div>\r\n                                            <div class=\"real-info\">\r\n                                                <span v-html=\"item.name\"></span><br>\r\n                                                <span v-html=\"item.address\"></span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div v-show=\"items.length<=0\" class=\"col-sm-12 txt-center cursor-pointer logindata-error\">\r\n                                未查找到数据，点击请重试\r\n                            </div>\r\n                        </div>\r\n                        <!--传感器详细信息-->\r\n                        <div v-show=\"sensorInfVisible\">\r\n                            <div class=\"pull-right sensor-info-type\">\r\n                                <a class=\"btn btn-link\"  @click=\"watchDraw(0)\" v-show=\"NowAndHistory!=0\">查看当前数据</a>\r\n                                <a class=\"btn btn-link\"  @click=\"watchDraw(1)\" v-show=\"NowAndHistory!=1\">查看历史记录</a>\r\n                                <a class=\"btn btn-link\"  @click=\"watchDraw(2)\" v-show=\"NowAndHistory!=2\">查看数据预测</a>\r\n                            </div>\r\n                            <div class=\"sensor-echart\">\r\n                                <div class=\"sensorHis  sensor-info-type\">\r\n                                    <div v-if=\"NowAndHistory==1||NowAndHistory==2\">\r\n                                        <div class=\"sensorhis-header\">\r\n                                            <span v-show=\"NowAndHistory==1\"> 选择历史记录时间段</span>\r\n                                            <span v-show=\"NowAndHistory==2\"> 选择专家预测方式</span>\r\n                                        </div>\r\n                                        <div class=\"sensorhis-body\">\r\n                                            <ul>\r\n                                                <li v-for=\"(item,index) in sensorHis.item[NowAndHistory-1]\" :key=\"index\" :class='[{\"item-active\":sensorHis.now==index},\"item-link\"]' @click=\"changeHisType(index)\">{{item.title}}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!--当前信息-->\r\n                                <div v-show=\"NowAndHistory==0\">\r\n                                    <div id=\"myChartNow\" :style=\"{width: '70vw', height:`${300*(Math.floor(sensorInf.length.toString()/3)+1.5)}px`,margin:'auto'}\"></div>\r\n                                </div>\r\n                                <!--历史记录-->\r\n                                <div v-show=\"NowAndHistory==1||NowAndHistory==2\">\r\n                                    <div id=\"myChartHistory\" :style=\"{width: '1000px', height: '500px',margin:'auto'}\"></div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div v-show=\"NowAndHistory==2\">\r\n                                <div id=\"myChartDataPrediction\" :style=\"{width: '800px', height: '500px',margin:'auto'}\"></div>\r\n                            </div> -->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport chartFun from \"@/echarts/index\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            sensorInfVisible: false, //是否显示传感器图表数据\r\n            NowAndHistory: 0, //当前数据，历史记录，数据预测切换\r\n            typenum: 0, //当前所在type\r\n            oldtypenum: 0, //上一级type\r\n            restypenum: 0, //下一级type\r\n            items: [],\r\n            sensorInf: [],\r\n            typeCheckData: [],\r\n            //农场及以下信息初始化\r\n            initData: [{\r\n                    url: \"Sensor/selectAddress.action\",\r\n                    title: \"农场\"\r\n                },\r\n                {\r\n                    url: \"Sensor/selectGreenHouse.action\",\r\n                    title: \"大棚\"\r\n                },\r\n                {\r\n                    url: \"Sensor/selectGreenHouseEquipment.action\",\r\n                    title: \"设备\"\r\n                }\r\n                // ,{\r\n                //     url: \"Sensor/selectSensor.action\",\r\n                //     title: \"传感器\"\r\n                // }\r\n            ],\r\n            //传感器查询数据可选择列表，历史记录时间和数据预测方式选择\r\n            sensorHis: {\r\n                item: [\r\n                    [{\r\n                            title: \"15分钟内历史记录数据\",\r\n                            url: \"collect/selectQuarter.action\"\r\n                        },\r\n                        {\r\n                            title: \"1小时内历史记录数据\",\r\n                            url: \"collect/selectOneHour.action\"\r\n                        },\r\n                        {\r\n                            title: \"一天内历史记录数据\",\r\n                            url: \"collect/selectOneDay.action\"\r\n                        }\r\n                    ],\r\n                    [{\r\n                            title: \"最小二乘法预测\",\r\n                            url: \"predict/predictOneDay.action\"\r\n                        },\r\n                        {\r\n                            title: \"灰色预测\",\r\n                            url: \"predict/predictOneDayGM.action\"\r\n                        }\r\n                    ]\r\n                ],\r\n                now: 0\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        this.loginThisItems(this.initData[this.typenum].url);\r\n    },\r\n    //vue-socket.io定义\r\n    sockets: {\r\n        // sensorMaxAndMin(obj) {\r\n        //     console.log(obj)\r\n        //   vm.sensorInf=obj;\r\n        // },\r\n        // sensorValue(obj){\r\n        //      console.log(obj)\r\n        //    vm.sensorInf.now=obj;\r\n        // }\r\n    },\r\n    methods: {\r\n        //判断层次改变\r\n        loginItems(direction, item = \"\") {\r\n            var vm = this;\r\n            var typenum = vm.typenum;\r\n            if (item != \"\") {\r\n                vm.typeCheckData[typenum] = item;\r\n            }\r\n            if (typenum == vm.initData.length - 1) {\r\n                if (direction > 0) {\r\n                    vm.NowAndHistory = 0;\r\n                    vm.drawChartNow();\r\n                } else if (direction < 0 && vm.sensorInfVisible) {\r\n                    if (vm.NowAndHistory == 0) {\r\n                        vm.$socket.emit(\"outGetValue\", vm.typeCheckData[vm.typenum].id);\r\n                    }\r\n                    vm.sensorInfVisible = false;\r\n                    vm.NowAndHistory = true;\r\n                    return;\r\n                }\r\n            }\r\n            vm.oldtypenum = typenum;\r\n            if (direction > 0) {\r\n                typenum += 1;\r\n            } else {\r\n                typenum -= 1;\r\n            }\r\n            vm.restypenum = typenum;\r\n            if (typenum <= vm.initData.length - 1) {\r\n                vm.loginThisItems(\r\n                    vm.initData[typenum].url,\r\n                    item != \"\" ?\r\n                    item.id :\r\n                    typenum == 0 ?\r\n                    \"\" :\r\n                    vm.typeCheckData[typenum].id\r\n                );\r\n            } else {\r\n                vm.typenum = vm.initData.length - 1;\r\n            }\r\n        },\r\n        //层次改变的请求\r\n        loginThisItems(url, id = \"\") {\r\n            var vm = this;\r\n            vm.$axios\r\n                .post(\r\n                    vm.HOST + url,\r\n                    id != \"\" ? {\r\n                        id: id\r\n                    } : {\r\n                        id: \"2\"\r\n                    }\r\n                )\r\n                .then(success => {\r\n                    if (success.data.length > 0) {\r\n                        vm.items = success.data;\r\n                        vm.typenum = vm.restypenum;\r\n                    } else {\r\n                        vm.typenum = vm.oldtypenum;\r\n                    }\r\n                })\r\n                .catch(error => {});\r\n        },\r\n        //监听需要绘制的界面\r\n        watchDraw(index) {\r\n            var vm = this;\r\n            vm.sensorHis.now = 0;\r\n            vm.NowAndHistory = index;\r\n            if (index == 0) {\r\n                vm.drawChartNow();\r\n            } else {\r\n                vm.$socket.emit(\"outGetValue\",'0123456789');//vm.typeCheckData[vm.typenum].id\r\n                vm.drawChartHistory();\r\n            }\r\n        },\r\n        //绘制当前信息\r\n        drawChartNow() {\r\n            var vm = this;\r\n            vm.$socket.emit(\"onGetValue\", '0123456789');//vm.typeCheckData[vm.typenum].id\r\n            let myChart = {};\r\n            var SPLITNUMBER = [];\r\n            var MAX = [];\r\n            var MIN = [];\r\n            var LEN = [];\r\n            var UNITTYPE = [];\r\n            var option = {};\r\n            var DATA = [];\r\n            var m = layer.msg(\"数据加载中\", {\r\n                icon: 16,\r\n                shade: [0.6, '#ccc'] //0.1透明度的白色背景\r\n            });\r\n            vm.$axios.post(vm.HOST + \"Sensor/selectEquipmentSensorValue.action\", {\r\n                    id: vm.typeCheckData[vm.typenum].id\r\n                })\r\n                .then(success => {\r\n                    vm.sensorInf = [];\r\n                    let data = success.data;\r\n                    let index = 0;\r\n                    data.forEach(item => {\r\n                        vm.sensorInf[index] = {};\r\n                        let min = item.growth_parameter_min;\r\n                        let max = item.growth_parameter_max;\r\n                        let now = item.sensor_value;\r\n                        let unittype = {\r\n                            name: item.sensor_position,\r\n                            unit: item.unit\r\n                        };\r\n                        vm.sensorInf[index].min = min;\r\n                        vm.sensorInf[index].max = max;\r\n                        vm.sensorInf[index].now = now;\r\n                        vm.sensorInf[index].id = item.sensor_id;\r\n                        vm.sensorInf[index].unittype = unittype;\r\n                        let len = max - min;\r\n                        let splitNumber = 10;\r\n                        if (len > 10 || len < 6) {\r\n                            if (len > 10 && len < 20) {\r\n                                splitNumber = 10;\r\n                            }\r\n                        } else if (len <= 10 && len >= 6) {\r\n                            splitNumber = len + 4;\r\n                        }\r\n                        MAX.push(max);\r\n                        MIN.push(min);\r\n                        LEN.push(len);\r\n                        SPLITNUMBER.push(splitNumber);\r\n                        UNITTYPE.push(unittype);\r\n                        DATA.push(now);\r\n                        index += 1;\r\n                    })\r\n                    myChart = vm.$echarts.init(document.getElementById(\"myChartNow\"));\r\n                    option = chartFun.sensorInfNow(UNITTYPE, SPLITNUMBER, MIN, MAX, LEN, DATA);\r\n                    window.echartoption = option;\r\n                    myChart.setOption(option, true);\r\n                    vm.sensorInfVisible = true;\r\n                    layer.close(m);\r\n                    vm.$socket.on(\"onGetValue\", ResSensorInf)\r\n            }).catch(error => {\r\n                    console.error(error)\r\n            });\r\n\r\n            function ResSensorInf(value) {\r\n                let index = 0;\r\n                let len = value.length;[{id:1,value:1}]\r\n                var sensorInf = vm.sensorInf;\r\n                var titlemax=[];\r\n                var titlemin=[];\r\n                value.forEach(dataitem=>{\r\n                   for(let i=0;i<sensorInf.length;i++){\r\n                       if(sensorInf[i].id==dataitem.id){\r\n                           sensorInf[i].now=value.value;\r\n                           option.series[0].data[i].value = sensorInf.now;\r\n                           var maxbool=sensorInf.now >= sensorInf.max;\r\n                           var minbool=sensorInf.now <= sensorInf.min;\r\n                           if (maxbool) {\r\n                                titlemax.push(sensorInf[i].unittype.name);\r\n                            } else if (minbool) {\r\n                               titlemin.push(sensorInf[i].unittype.name);\r\n                            }\r\n                           break;\r\n                       }\r\n                   }\r\n                })\r\n                var title=(titlemax.length>0?`${titlemax.join(\"、\")}过高`:\"\")+(titlemin.length>0?`${titlemin.join(\"、\")}过低`:\"\");\r\n                if(title.length>0){\r\n                    vm.$layer.alert(title, {\r\n                        icon: 5,\r\n                        time: 1500 //1s后自动关闭\r\n                    });\r\n                }\r\n                myChart.setOption(option, true);\r\n            }\r\n        },\r\n        //绘制历史记录\r\n        drawChartHistory() {\r\n            var vm = this;\r\n            var sensorHis = vm.sensorHis;\r\n            var NowAndHistory = vm.NowAndHistory - 1;\r\n            var item = sensorHis.item[NowAndHistory][sensorHis.now];\r\n            let myChart = vm.$echarts.init(document.getElementById(\"myChartHistory\"));\r\n            var unittype = [];\r\n            var m = layer.msg(\"数据加载中\", {\r\n                icon: 16,\r\n                shade: [0.6, '#ccc'] //0.1透明度的白色背景\r\n            });\r\n            vm.$axios\r\n                .post(vm.HOST + item.url, {\r\n                    device_id: vm.typeCheckData[vm.typenum].id\r\n                })\r\n                .then(success => {\r\n                    var resdata = success.data.list;\r\n                    var xdata = [];\r\n                    var data = [];\r\n                    var lengedData = [];\r\n                    var index = 0;\r\n                    resdata.forEach(items => {\r\n                        data[index] = [];\r\n                        items.forEach(item => {\r\n                            var date = vm.$api.opreate.DateCompletion(item.collectTime);\r\n                            xdata.includes(date) ? \"\" : xdata.push(date);\r\n                            data[index].push(item.sensorValue);\r\n                        })\r\n                        lengedData.push(items[0].sensorPosition);\r\n                        unittype.push({\r\n                            name: items[0].sensorPosition,\r\n                            unit: items[0].unit\r\n                        })\r\n                        index += 1;\r\n                        // data.push(item.sensorValue);\r\n                    });\r\n                    var option = chartFun.sensorInfHis(\r\n                        unittype,\r\n                        xdata,\r\n                        data,\r\n                        lengedData, {\r\n                            show: true,\r\n                            start: 0\r\n                        },\r\n                        item.title + \"曲线图\"\r\n                    );\r\n                    myChart.setOption(option, true);\r\n                    layer.close(m)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                });\r\n        },\r\n        //改变历史记录和数据预测\r\n        changeHisType(index) {\r\n            var vm = this;\r\n            vm.sensorHis.now = index;\r\n            vm.drawChartHistory();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.logindata-error {\r\n    font-size: 18px;\r\n    color: rgb(243, 29, 29);\r\n}\r\n\r\n.item-back {\r\n    border: #ccc solid 1px;\r\n    position: relative;\r\n}\r\n\r\n.item-back:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.item-back:active {\r\n    transform: scale(0.97);\r\n}\r\n\r\n.item-back .real-item {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.item-back .real-item .real-icon {\r\n    margin: 0 10px;\r\n}\r\n\r\n.sensor-info-type {\r\n    z-index: 999;\r\n    position: relative;\r\n}\r\n\r\n.sensor-echart {\r\n    display: flex;\r\n    white-space: nowrap;\r\n}\r\n\r\n.sensorHis {\r\n    display: flex;\r\n    height: 500px;\r\n    align-items: center;\r\n    left: 100px;\r\n    margin-right: 50px;\r\n    width: 180px;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.sensorHis .sensorhis-header {\r\n    position: relative;\r\n    top: -30px;\r\n    font-weight: 600;\r\n    font-size: 16px;\r\n    font-family: \"黑体\";\r\n    text-align: center;\r\n}\r\n\r\n.sensorHis .sensorhis-body ul {\r\n    list-style-type: none;\r\n    padding: 0;\r\n    text-align: center;\r\n}\r\n\r\n.sensorhis-body .item-link {\r\n    color: #1675e0;\r\n    cursor: pointer;\r\n    padding: 0.5rem;\r\n}\r\n\r\n.sensorhis-body .item-active {\r\n    color: #f70b0b;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/IntelligentAgriculture/realTimeMonitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"panel panel-info\"},[_c('div',{staticClass:\"panel-body\"},[_c('div',[_vm._v(\"实时监测\")]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_c('div',[_c('h4',[_vm._l((_vm.typeCheckData),function(item,index){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index<_vm.typenum||_vm.sensorInfVisible),expression:\"index<typenum||sensorInfVisible\"}],key:index,class:['iconfont',{'icon-farm':index==0,'icon-greenHouse':index==1,'icon-device':index==2,'icon-sensor':index==3,}],domProps:{\"innerHTML\":_vm._s(item.name+'&nbsp;&nbsp;&nbsp;&nbsp;')}})}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sensorInfVisible),expression:\"!sensorInfVisible\"}],class:['iconfont',{'icon-farm':_vm.typenum==0,'icon-greenHouse':_vm.typenum==1,'icon-device':_vm.typenum==2,'icon-sensor':_vm.typenum==3,}],domProps:{\"innerHTML\":_vm._s(_vm.initData[_vm.typenum].title)}}),_vm._v(\" \"),(_vm.typenum!=0)?_c('a',{staticClass:\"btn btn-link pull-right\",on:{\"click\":function($event){_vm.loginItems(-1)}}},[_vm._v(\"返回上一级\")]):_vm._e()],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sensorInfVisible),expression:\"!sensorInfVisible\"}]},[(_vm.items.length>0)?_c('div',_vm._l((_vm.items),function(item,index){return _c('div',{key:index,staticClass:\"col-sm-3 col-md-3 col-lg-2\"},[_c('div',{staticClass:\"item-back\",on:{\"click\":function($event){_vm.loginItems(1,item)}}},[_c('div',{staticClass:\"real-item\"},[_c('div',{staticClass:\"real-icon\"},[_c('i',{staticClass:\"iconfont \",class:['iconfont',{'icon-farm':_vm.typenum==0,'icon-greenHouse':_vm.typenum==1,'icon-device':_vm.typenum==2,'icon-sensor':_vm.typenum==3,}]})]),_vm._v(\" \"),_c('div',{staticClass:\"real-info\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.name)}}),_c('br'),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(item.address)}})])])])])})):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.items.length<=0),expression:\"items.length<=0\"}],staticClass:\"col-sm-12 txt-center cursor-pointer logindata-error\"},[_vm._v(\"\\r\\n                                未查找到数据，点击请重试\\r\\n                            \")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sensorInfVisible),expression:\"sensorInfVisible\"}]},[_c('div',{staticClass:\"pull-right sensor-info-type\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory!=0),expression:\"NowAndHistory!=0\"}],staticClass:\"btn btn-link\",on:{\"click\":function($event){_vm.watchDraw(0)}}},[_vm._v(\"查看当前数据\")]),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory!=1),expression:\"NowAndHistory!=1\"}],staticClass:\"btn btn-link\",on:{\"click\":function($event){_vm.watchDraw(1)}}},[_vm._v(\"查看历史记录\")]),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory!=2),expression:\"NowAndHistory!=2\"}],staticClass:\"btn btn-link\",on:{\"click\":function($event){_vm.watchDraw(2)}}},[_vm._v(\"查看数据预测\")])]),_vm._v(\" \"),_c('div',{staticClass:\"sensor-echart\"},[_c('div',{staticClass:\"sensorHis  sensor-info-type\"},[(_vm.NowAndHistory==1||_vm.NowAndHistory==2)?_c('div',[_c('div',{staticClass:\"sensorhis-header\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory==1),expression:\"NowAndHistory==1\"}]},[_vm._v(\" 选择历史记录时间段\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory==2),expression:\"NowAndHistory==2\"}]},[_vm._v(\" 选择专家预测方式\")])]),_vm._v(\" \"),_c('div',{staticClass:\"sensorhis-body\"},[_c('ul',_vm._l((_vm.sensorHis.item[_vm.NowAndHistory-1]),function(item,index){return _c('li',{key:index,class:[{\"item-active\":_vm.sensorHis.now==index},\"item-link\"],on:{\"click\":function($event){_vm.changeHisType(index)}}},[_vm._v(_vm._s(item.title))])}))])]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory==0),expression:\"NowAndHistory==0\"}]},[_c('div',{style:({width: '70vw', height:((300*(Math.floor(_vm.sensorInf.length.toString()/3)+1.5)) + \"px\"),margin:'auto'}),attrs:{\"id\":\"myChartNow\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.NowAndHistory==1||_vm.NowAndHistory==2),expression:\"NowAndHistory==1||NowAndHistory==2\"}]},[_c('div',{style:({width: '1000px', height: '500px',margin:'auto'}),attrs:{\"id\":\"myChartHistory\"}})])])])])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22f48fbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/IntelligentAgriculture/realTimeMonitor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22f48fbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./realTimeMonitor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./realTimeMonitor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./realTimeMonitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22f48fbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./realTimeMonitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22f48fbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/IntelligentAgriculture/realTimeMonitor.vue\n// module id = null\n// module chunks = ","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = bOdI\n// module chunks = 2","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 2"],"sourceRoot":""}