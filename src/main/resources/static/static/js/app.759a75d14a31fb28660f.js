webpackJsonp([10],{A66B:function(e,t,n){e.exports=function(e){return function(){return n("Opzk")("./"+e+".vue")}}},Akch:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("fZjL"),r=n.n(i),a=n("7+uW"),s=(n("Akch"),n("VaBq"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]}),o=n("VU/8")({},s,!1,null,null,null).exports,u=n("/ocq"),l=n("A66B");a.a.use(u.a);var c=[{path:"/",name:"Login",component:l("Login"),meta:{title:"登录"}},{path:"/rigster",name:"rigster",component:l("rigster"),meta:{title:"注册"}},{path:"/main",name:"main",component:l("main"),meta:{requireAuth:!0},children:[{path:"/main/gongnengguanli",name:"gongnengguanli",component:l("Administration/gongnengguanli"),meta:{title:"功能",requireAuth:!0}},{path:"/main/jueseguanli",name:"jueseguanli",component:l("Administration/jueseguanli"),meta:{title:"角色",requireAuth:!0}},{path:"/main/yonghuguanli",name:"yonghuguanli",component:l("Administration/yonghuguanli"),meta:{title:"用户",requireAuth:!0}}]},{path:"/userindex",name:"userindex",component:l("user/users"),meta:{requireAuth:!0}}],g=new u.a({routes:c}),m={isEmptyObject:function(e){for(var t in e)return!1;return!0}},f=n("NYxO"),d=(n("Ya8g"),n("mvHQ")),p=n.n(d),v={user:{},userPage:[],islogin:!1,userPerms:[]},h={IS_LOGIN:function(e){e.commit;m.isEmptyObject(v.user)&&(v.user=JSON.parse(sessionStorage.getItem("user_info")),v.islogin=sessionStorage.getItem("isLogin"),v.userPage=JSON.parse(sessionStorage.getItem("user_page")),v.userPerms=JSON.parse(sessionStorage.getItem("user_perms")))}},y={state:v,getters:{GETUSERPAGE:function(e){return e.userPage},GETUSERPERMS:function(e){return e.userPerms}},actions:h,mutations:{UPDATE_USER:function(e,t){e.user=t,sessionStorage.setItem("user_info",p()(e.user))},SET_IS_LOGIN:function(e,t){e.islogin=t,sessionStorage.setItem("isLogin",e.islogin)},UPDATE_USERPAGE:function(e,t){e.userPage=t,sessionStorage.setItem("user_page",p()(e.userPage))},REMOVE_USER:function(){sessionStorage.clear()},UPDATE_USERPERMS:function(e,t){e.userPerms=t,sessionStorage.setItem("user_perms",p()(e.userPerms))}}},E={state:{stateid:"",statetitle:""},mutations:{UPDATESTATEID:function(e,t){e.stateid=t},UPDATESTATEIDANDTITLE:function(e,t){e.stateid=t.id,e.statetitle=t.title}},getters:{GETUSERSTATE:function(e){return e}}};a.a.use(f.a);var S=new f.a.Store({modules:{user:y,state:E}});g.beforeEach(function(e,t,n){if(S.commit("UPDATESTATEIDANDTITLE",{id:e.name,title:e.meta.title}),e.meta.requireAuth)if(S.state.islogin||S.dispatch("IS_LOGIN"),!m.isEmptyObject(S.state.user.user)&&S.state.user.islogin){var i=S.state.user.userPage,r=0;if("/main"==e.fullPath)n();else{for(var s=0;s<i.length;s++)for(var o=0;o<i[s].list.length;o++)"/main/"+i[s].list[o].pageInf.url==e.fullPath&&(r+=1);"/userindex"==e.fullPath&&(r=1),r>0?n():(a.a.prototype.$layer.alert('<div class="layer divtext"><i class="icon icon-error"></i>前往网页不存在或角色权限不足</div>'),n({path:"/main"}))}}else a.a.prototype.$layer.alert('<div class="layer divtext"><i class="icon icon-error"></i>帐号未登录</div>',function(){n({path:"/"}),a.a.prototype.$layer.close(this.id)}),S.commit("SET_IS_LOGIN",!1),S.commit("REMOVE_USER");else n();a.a.prototype.$layer.closeAll(0)});var A=n("mtWM"),T=n.n(A),P={datafilter:function(e,t){function n(e){return e<10?"0"+e:e}var i=new Date(Number(e)),r=n(i.getFullYear()),a=n(i.getMonth()+1),s=n(i.getDate());if("yyyyMMdd"==t)return r+"年"+a+"月"+s+"日"}},$=n("sUu7"),_=n("+8+3"),x=n.n(_),O=n("TXmL");a.a.use(O.a);var I=new O.a({locale:"zh_CN"});a.a.use($.b,{errorBagName:"errors",fieldsBagName:"fields",delay:100,locale:"zh_CN",strict:!0,enableAutoClasses:!0,events:"focus|input|blur|submit",inject:!0},{i18n:I,i18nRootKey:"validation",dictionary:{zh_CN:x.a}});$.b.Validator.localize({zh_CN:{messages:{numeric:function(e){return e+"应为数字"},required:function(e){return e+"不能为空"},max:function(e,t){return e+"不能超过"+t[0]+"个字符"},min:function(e,t){return e+"不能少于"+t[0]+"个字符"},length:function(e,t){return e+"应该为"+t[0]+"个字符"},regex:function(e){return e+"格式不正确"},alpha_num:function(e,t){return e+"只能为数字或英文"},email:function(e){return e+"格式不正确"}}}}),$.a.extend("tel",{getMessage:function(e){return" 请输入正确格式的手机号"},validate:function(e,t){return 11==e.length&&/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(e)}}),$.a.extend("password",{getMessage:function(e){return e+"应为字母、数字和符号两种及以上的组合，6-16个字符"},validate:function(e,t){return/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?![,\!\.#%'\+\*\-:;^_`]+$)[,\!\.#%'\+\*\-:;^_`0-9A-Za-z]{6,16}$/.test(e)}}),$.a.extend("cnlength",{getMessage:function(e,t){return e+"长度不能超过"+t[0]+"位"},validate:function(e,t){return("number"==typeof e?e.length:e.replace(/[\u0391-\uFFE5]/g,"aa").length)<=t[0]}}),$.a.extend("idnumber",{getMessage:function(e,t){return e+"格式不正确"},validate:function(e,t){return/(^\d{110}$)|(^\d{112}$)|(^\d{17}(\d|X|x)$)/.test(e)}});var N=n("ppUw"),b=n.n(N),U={opreateHttp:function(e,t,n,i){e.$validator.validateAll().then(function(r){r&&e.$axios.post(e.HOST+t,n).then(function(t){var r=t.data;"0"==r.code?(e.$layer.alert('<div class="layer divtext"><i class="icon icon-success"></i>'+i+"成功</div>"),n={}):e.$layer.alert('<div class="layer divtext"><i class="icon icon-error"></i>'+r.msg+"</div>")}).catch(function(t){e.$layer.alert('<div class="layer divtext"><i class="icon icon-warning"></i>网络错误，请检查网络是否畅通</div>')})})}},w=n("pFYg"),R=n.n(w);var j={http:U,opreate:{emitCall:function(e,t,n){n.$emit(e,t)},ObjectCopy:function e(t){var n;t instanceof Object&&(n={});t instanceof Array&&(n=[]);for(var i in t)"object"==R()(t[i])?n[i]=e(t[i]):n[i]=t[i];return n},hasLoginComponents:function(e,t){return e.$store.getters.GETUSERPERMS.indexOf(t)>-1},TESTcheck:function(e,t){var n=e.checkData.length;return n>1?(e.$layer.alert('<div class="layer divtext"><i class="icon icon-warning"></i>一次只能'+t+"一条数据</div>"),!1):!(n<=0)||(e.$layer.alert('<div class="layer divtext"><i class="icon icon-tips"></i>请选择需要'+t+"的数据</div>"),!1)}}},L=n("Myac"),M=n.n(L),D=n("7t+N"),z=n.n(D);a.a.use(b.a),T.a.defaults.withCredentials=!0,a.a.config.productionTip=!1,a.a.prototype.$api=j,a.a.prototype.$layer=M()(a.a),a.a.prototype.HOST="",window.jQuery=z.a,window.$=z.a,a.a.prototype.$axios=T.a,a.a.prototype.$store=S,r()(P).forEach(function(e){a.a.filter(e,P[e])});new a.a({el:"#app",router:g,store:S,components:{App:o},template:"<App/>"})},Opzk:function(e,t,n){var i={"./Administration/gongnengguanli.vue":["cn+G",0,5],"./Administration/jueseguanli.vue":["QEn1",0,7],"./Administration/yonghuguanli.vue":["Y/nL",0,6],"./Login.vue":["lmfZ",3],"./main.vue":["sRz/",1],"./rigster.vue":["ST3v",8],"./user/userindex.vue":["HrnT",4],"./user/users.vue":["H49N",2]};function r(e){var t=i[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(i)},r.id="Opzk",e.exports=r},VaBq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.759a75d14a31fb28660f.js.map